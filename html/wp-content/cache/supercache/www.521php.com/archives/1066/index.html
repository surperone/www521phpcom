<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="robots" content="all" />
<title>自己写的批量将字段中的中文图片路径转化为拼音路径 | 我爱你PHP张存超技术博客</title> 
 
<meta name="description" content="使用过linux服务器的童鞋应该知道，在linux中，文件、文件夹的命名都不能使用中文，如果你的图片是有中文字符，那么在浏览器中是不会显示的，但是因为在中国，大部分的服务器都是windows的，因为以前的网..." />
<meta name="keywords" content="php, 图片处理, 总结, 文件, " />
	
<link href="http://www.521php.com/wp-content/themes/zeke/style.css" rel="stylesheet" type="text/css" />
<link href="http://www.521php.com/wp-content/themes/zeke/miaov_style.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="http://www.521php.com/wp-content/themes/zeke/comments-ajax.js"></script>
<link rel='stylesheet' id='crayon-css'  href='http://www.521php.com/wp-content/plugins/crayon-syntax-highlighter/css/min/crayon.min.css?ver=2.2.0' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-theme-ado-css'  href='http://www.521php.com/wp-content/plugins/crayon-syntax-highlighter/themes/ado/ado.css?ver=2.2.0' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-font-courier-new-css'  href='http://www.521php.com/wp-content/plugins/crayon-syntax-highlighter/fonts/courier-new.css?ver=2.2.0' type='text/css' media='all' />
<script type='text/javascript' src='http://www.521php.com/wp-includes/js/jquery/jquery.js?ver=1.7.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"2.2.0","is_admin":"0","ajaxurl":"http:\/\/www.521php.com\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};;
var CrayonSyntaxStrings = {"copy":"\u4f7f\u7528 %s \u590d\u5236\uff0c\u4f7f\u7528 %s \u7c98\u8d34\u3002","minimize":"Click To Expand Code"};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.521php.com/wp-content/plugins/crayon-syntax-highlighter/js/min/crayon.min.js?ver=2.2.0'></script>
<script type='text/javascript' src='http://www.521php.com/wp-includes/js/comment-reply.js?ver=20090102'></script>
<link rel='prev' title='帝国cms静态文章实现文章的点击统计和实时展示' href='http://www.521php.com/archives/1062/' />
<link rel='next' title='php实现智能分词' href='http://www.521php.com/archives/1075/' />
<link rel='canonical' href='http://www.521php.com/archives/1066/' />
<link rel='shortlink' href='http://www.521php.com/?p=1066' />
<link rel="Shortcut Icon" type="image/x-icon" href="http://www.521php.com/favicon.ico" /><!--[if lt IE 7]>
<script type="text/javascript" src="/wp-content/themes/MRjs/iepngfix_tilebg.js"></script>
<script type="text/javascript">
// <![CDATA[
if((window.navigator.appName.toUpperCase().indexOf("MICROSOFT")>=0)&&(document.execCommand))
try{
document.execCommand("BackgroundImageCache", false, true);
}
catch(e){}
// ]]>
</script>
<![endif]-->
</head>

<body>
<div id="wrap">
<!--头部-->
	<div id="header">
    	<div id="top">
        	<div class="mrlogo"><a href="http://www.521php.com/" title="  自己写的批量将字段中的中文图片路径转化为拼音路径-php个人博客,php技术博客,php博客">  自己写的批量将字段中的中文图片路径转化为拼音路径-php个人博客,php技术博客,php博客</a></div>
            <div class="search"><form method="get" target="_blank" id="searchform" action="http://www.521php.com/so.php">
<input type="hidden" name="url" value="521php.com" />
            <input class="field" name="s" id="s" type="text" value="百度谷歌一起搜！" onfocus="this.value=&#39;&#39;;" onblur="if(this.value==&#39;&#39;){this.value=&#39;百度谷歌一起搜！&#39;;}" />
            <input name="" type="submit" value="" class="so"id="go"  onmouseout="this.className=&#39;so&#39;" onmouseover="this.className=&#39;soHover&#39;" />
            </form></div>
        </div>
        <div id="nav">
        	<div class="menuL"><ul id="menu" class="menu"><li id="menu-item-480" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-480"><a title="返回首页" href="http://www.521php.com/"><span>首页</span></a></li>
<li id="menu-item-41" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-41"><a title="心情随笔" href="http://www.521php.com/archives/category/cclog/"><span>随笔</span></a></li>
<li id="menu-item-43" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-43"><a title="php技术" href="http://www.521php.com/archives/category/lovephp/"><span>我爱PHP</span></a></li>
<li id="menu-item-182" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-182"><a title="博采众长" href="http://www.521php.com/archives/category/team/"><span>博采众长</span></a></li>
<li id="menu-item-1749" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1749"><a href="http://www.521php.com/archives/category/linux/"><span>Linux</span></a></li>
<li id="menu-item-514" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-514"><a title="小功能" href="http://www.521php.com/archives/category/gongneng/"><span>小功能</span></a></li>
<li id="menu-item-479" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-479"><a title="联系我" href="http://www.521php.com/message/"><span>关于我</span></a></li>
<li id="menu-item-1139" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1139"><a title="相册集" href="/xiangce/"><span>相册</span></a></li>
<li id="menu-item-993" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-993"><a title="友情链接" href="http://www.521php.com/flink/"><span>兄弟链</span></a></li>
<li id="menu-item-1613" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1613"><a title="cclovepp" href="http://love.521php.com"><span>CClovePP</span></a></li>
<li id="menu-item-1540" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1540"><a href="http://www.521php.com/video/"><span>我爱直播</span></a></li>
<li id="menu-item-1239" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1239"><a title="我爱外链" href="http://www.521php.com/wailian/"><span>外链自助</span></a></li>
</ul><span class="bgic"><img src="/images/bgic.gif"></span></div>
            <div class="rss_ico"><a href="http://www.521php.com/feed/" target="_blank" rel="nofollow" title="RSS订阅">RSS订阅</a></div>
        </div>
    </div>
<!--头部End-->
<div class="share_more" id="share_more" style="DISPLAY: none; LEFT: 160px; POSITION: absolute; TOP: 442px;">
<p onMouseOver="share_more_element.style.display='block';" onmouseout="share_more_element.style.display='none';">
<A class=share>分享到...</A> 
<A class="qqt" href="javascript:doShare('qqt');">腾讯微博</A>
<A class="sinat" href="javascript:doShare('sinat');">新浪微博</A>
<A class="qqpeng" href="javascript:doShare('qqpeng');">QQ朋友</A>
<A class="renren" href="javascript:doShare('renren');">人人网</A>
<A class="douban" href="javascript:doShare('douban');">豆瓣</A></p></div>
<SCRIPT type=text/javascript>
var share_more_element = null;
var share_postid = -1;
var postArray = [];
function getPos(obj){
	var pos = [];
	pos[0] = obj.offsetLeft;//X
	pos[1] = obj.offsetTop;//Y
	while (obj = obj.offsetParent){
		pos[0] += obj.offsetLeft;
		pos[1] += obj.offsetTop;
	}
	return pos;
}
//显示隐藏层
function share_more(postid, obj){
	share_postid = postid;
	var objPos = getPos(obj);
	objPos[0]-=7;objPos[1]-=5;
	if(share_more_element == null)share_more_element=document.getElementById("share_more");
	share_more_element.style.left=objPos[0]+"px";
	share_more_element.style.top=objPos[1]+"px";
	share_more_element.style.display="block";
}
//添加收藏夹
function doShare(stype){
	stitle = postArray[share_postid][0];
	surl = postArray[share_postid][1];
	sdire = postArray[share_postid][2];
	sbanner = postArray[share_postid][3];
	
	blogtitle = '张存超技术博客';
	bloghome = 'http://www.521php.com';
	
	stitle = blogtitle + ' - ' + stitle;
	
	switch(stype){
		case "fav":
			if (document.all){
				window.external.addFavorite(surl,stitle);
			}
			else if (window.sidebar){
				window.sidebar.addPanel(stitle,surl, "");
			}
			else{
				alert("抱歉,您的浏览器不支持添加到收藏夹,换个浏览器试试?");
			}
			break;
		//腾讯微博
		case "qqt":
			u=encodeURIComponent(surl);
			t=encodeURIComponent('#博客#：' + stitle);
			b=encodeURIComponent(sbanner);
			su=encodeURIComponent(bloghome);
			window.open('http://v.t.qq.com/share/share.php?title='+t+'&url='+u+'&site='+su+'&pic='+b,'_blank');	
			break;
		//新浪微博
		case "sinat":
			u=encodeURIComponent(surl);
			t=encodeURIComponent('#博客#：' + stitle);
			b=encodeURIComponent(sbanner);
			su=encodeURIComponent(bloghome);
			window.open('http://v.t.sina.com.cn/share/share.php?title='+t+'&url='+u+'&site='+su+'&pic='+b,'_blank');	
			break;
		//QQ朋友
		case "qqpeng":
			u=encodeURIComponent(surl);
			t=encodeURIComponent(stitle);
			b=encodeURIComponent(sbanner);
			su=encodeURIComponent(bloghome);
			window.open('http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?to=pengyou&title='+t+'&url='+u+'&site='+su+'&pic='+b,'_blank');	
			break;
		//谷歌
		case "googlereader":
			u=encodeURIComponent(surl);
			t=encodeURIComponent(stitle);
			su=encodeURIComponent(bloghome);
			st=encodeURIComponent(blogtitle);
			window.open('http://www.google.com/reader/link?url='+u+'&title='+t+'&snippet=&srcTitle='+st+'&srcUrl='+su,'_blank');
			break;
		//人人网
		case "renren":
			u=encodeURIComponent(surl);
			t=encodeURIComponent(stitle);
			window.open('http://share.renren.com/share/buttonshare.do?link='+u+'&title='+t+'source=&sourceUrl=','_blank');
			break;
		//豆瓣
		case "douban":
			u=encodeURIComponent(surl);
			t=encodeURIComponent(stitle);
			window.open('http://www.douban.com/recommend/?url='+u+'&title='+t,'_blank');
			break;
	}
}
</SCRIPT>

<SCRIPT>postArray[0]=[];postArray[0][0]="张存超技术博客";postArray[0][1]="http://www.521php.com";postArray[0][2]="张存超技术博客 - http://www.521php.com";postArray[0][3]="http://www.521php.com/logo.png";</SCRIPT><!--中间内容-->
    <div id="container">
    	<div id="content">
	<div class="content_text">
          <div class="content_t_top"><!--样式头部--></div>
           		<div class="content_t_main"><div style="margin-left: 20px;">
<!--淘宝内容页推广start-->
		<script type="text/javascript">
     document.write('<a href="http://www.buydazhe.com" title="买就打折网" target="_blank"><img src="http://www.buydazhe.com/them/img/banner1.png" width="640" height="73" /></a>');
</script>
<!--淘宝内容页推广end--></div></div>
<div class="content_t_bot"><!--样式尾部--></div>
</div>
        	<div class="content_text">
            	<div class="content_t_top"><!--样式头部--></div>
           		<div class="content_t_main">
               		<!--ContentTitle-->
                    					<div class="ContentTitle">
                    	<div class="Data">
                        	<div class="DataLeft"><p class="monthB">26</p><p class="dateA">02-2013</p> </div>
                        </div>
                        <div class="Title">
                        	<H3><a href="http://www.521php.com/archives/1066/" rel="bookmark">自己写的批量将字段中的中文图片路径转化为拼音路径</a></H3>
                            <ul>
                            	<li class="mrinc name">地狱中仰望天堂</li>
                                <li class="mrinc date">2013-02-26</li>
                                <li class="mrinc folder"><a href="http://www.521php.com/archives/category/gongneng/" title="查看 小功能 中的全部文章" rel="category tag">小功能</a>,<a href="http://www.521php.com/archives/category/lovephp/" title="查看 我爱PHP 中的全部文章" rel="category tag">我爱PHP</a>,<a href="http://www.521php.com/archives/category/tj/" title="查看 推荐文章 中的全部文章" rel="category tag">推荐文章</a></li>
                                <LI class="mrinc browse"><a href="#">浏览:1282</a></LI>
                          		<LI class="mrinc like"><a href="http://www.521php.com/archives/1066/#respond" title="《自己写的批量将字段中的中文图片路径转化为拼音路径》上的评论">无评论</a></LI>
                                <li class="mrinc admin"></li>
                            </ul>
                        </div>
                    </div><!--content_banner-->
                    <div class="content_banner">
                    	
                        <div class="text" id="a1066"><p>使用过linux服务器的童鞋应该知道，在linux中，文件、文件夹的命名都不能使用中文，如果你的图片是有中文字符，那么在浏览器中是不会显示的，但是因为在中国，大部分的服务器都是windows的，因为以前的网站程序大多用的是iis，而现在，遇到程序改版，改版成php，并且将原来的数据导入到mysql等后，我们发现文章中有大量的图片是中文字符，下面我就简单的写了一个小功能来解决这个问题。<span id="more-1066"></span></p>
<p>代码：</p><!-- Crayon Syntax Highlighter v2.2.0 -->

		<div id="crayon-53e88e953eb92" class="crayon-syntax crayon-theme-ado crayon-font-courier-new crayon-os-pc print-yes" data-settings=" minimize scroll-mouseover wrap" style=" max-width: 645px; margin-top: 12px; margin-bottom: 12px; float: left; clear: both; font-size: 13px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover hide delay" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><span class="crayon-title">自己写了一个批量将数据库字段中的中文图片转化为拼音字母图片路径</span>
			<div class="crayon-tools" style="font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;"><span class="crayon-mixed-highlight" title="含多种语言"></span><div class="crayon-button crayon-nums-button" title="切换显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div><span class="crayon-language">PHP</span></div></div>
			<div class="crayon-info" style="min-height: 18.2px !important; line-height: 18.2px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;">
&lt;?php
set_time_limit(0);
header("Content-Type:text/html;charset=utf-8");
//这几个参数需要配置
$dbHost = 'localhost';//服务器
$dbUser = 'root';//用户名
$dbPwd  = '123456';//密码
$dbDate = 'rjtnb';//数据库名
set_time_limit(0);
$con = mysql_connect($dbHost,$dbUser,$dbPwd);
if(empty($con)){
	echo '连接服务器失败';
}
mysql_query("SET character_set_connection=utf8, character_set_results=utf8, character_set_client=binary",$con);
$conni = mysql_select_db($dbDate,$con);
if(empty($conni)){
	echo '选择数据库失败';
}
/*access链接结束*/
?&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;将数据库文章内容的图片转化为拼音&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;form method="post" action=""&gt;
请保证本文件位置可以找到图片文件！&lt;br /&gt;
要修改的数据表：
&lt;input type="text" name="table" value="&lt;?php echo @$_POST['table'];?&gt;" size="" /&gt;
要修改的字段：
&lt;input type="text" name="ziduan" value="&lt;?php echo @$_POST['ziduan'];?&gt;" size="" /&gt;
&lt;input type="submit" name="submit" value="提交" /&gt;&lt;br /&gt;
&lt;?php
$sub    = @$_POST['submit'];
$table  = @$_POST['table'];
$ziduan = @$_POST['ziduan'];
if($sub&amp;&amp;$table&amp;&amp;$ziduan){
	function Pinyin($_String, $modoul='', $_Code='gb2312')   {
$_DataKey = "a|ai|an|ang|ao|ba|bai|ban|bang|bao|bei|ben|beng|bi|bian|biao|bie|bin|bing|bo|bu|ca|cai|can|cang|cao|ce|ceng|cha".
"|chai|chan|chang|chao|che|chen|cheng|chi|chong|chou|chu|chuai|chuan|chuang|chui|chun|chuo|ci|cong|cou|cu|".
"cuan|cui|cun|cuo|da|dai|dan|dang|dao|de|deng|di|dian|diao|die|ding|diu|dong|dou|du|duan|dui|dun|duo|e|en|er".
"|fa|fan|fang|fei|fen|feng|fo|fou|fu|ga|gai|gan|gang|gao|ge|gei|gen|geng|gong|gou|gu|gua|guai|guan|guang|gui".
"|gun|guo|ha|hai|han|hang|hao|he|hei|hen|heng|hong|hou|hu|hua|huai|huan|huang|hui|hun|huo|ji|jia|jian|jiang".
"|jiao|jie|jin|jing|jiong|jiu|ju|juan|jue|jun|ka|kai|kan|kang|kao|ke|ken|keng|kong|kou|ku|kua|kuai|kuan|kuang".
"|kui|kun|kuo|la|lai|lan|lang|lao|le|lei|leng|li|lia|lian|liang|liao|lie|lin|ling|liu|long|lou|lu|lv|luan|lue".
"|lun|luo|ma|mai|man|mang|mao|me|mei|men|meng|mi|mian|miao|mie|min|ming|miu|mo|mou|mu|na|nai|nan|nang|nao|ne".
"|nei|nen|neng|ni|nian|niang|niao|nie|nin|ning|niu|nong|nu|nv|nuan|nue|nuo|o|ou|pa|pai|pan|pang|pao|pei|pen".
"|peng|pi|pian|piao|pie|pin|ping|po|pu|qi|qia|qian|qiang|qiao|qie|qin|qing|qiong|qiu|qu|quan|que|qun|ran|rang".
"|rao|re|ren|reng|ri|rong|rou|ru|ruan|rui|run|ruo|sa|sai|san|sang|sao|se|sen|seng|sha|shai|shan|shang|shao|".
"she|shen|sheng|shi|shou|shu|shua|shuai|shuan|shuang|shui|shun|shuo|si|song|sou|su|suan|sui|sun|suo|ta|tai|".
"tan|tang|tao|te|teng|ti|tian|tiao|tie|ting|tong|tou|tu|tuan|tui|tun|tuo|wa|wai|wan|wang|wei|wen|weng|wo|wu".
"|xi|xia|xian|xiang|xiao|xie|xin|xing|xiong|xiu|xu|xuan|xue|xun|ya|yan|yang|yao|ye|yi|yin|ying|yo|yong|you".
"|yu|yuan|yue|yun|za|zai|zan|zang|zao|ze|zei|zen|zeng|zha|zhai|zhan|zhang|zhao|zhe|zhen|zheng|zhi|zhong|".
"zhou|zhu|zhua|zhuai|zhuan|zhuang|zhui|zhun|zhuo|zi|zong|zou|zu|zuan|zui|zun|zuo";
$_DataValue = "-20319|-20317|-20304|-20295|-20292|-20283|-20265|-20257|-20242|-20230|-20051|-20036|-20032|-20026|-20002|-19990".
"|-19986|-19982|-19976|-19805|-19784|-19775|-19774|-19763|-19756|-19751|-19746|-19741|-19739|-19728|-19725".
"|-19715|-19540|-19531|-19525|-19515|-19500|-19484|-19479|-19467|-19289|-19288|-19281|-19275|-19270|-19263".
"|-19261|-19249|-19243|-19242|-19238|-19235|-19227|-19224|-19218|-19212|-19038|-19023|-19018|-19006|-19003".
"|-18996|-18977|-18961|-18952|-18783|-18774|-18773|-18763|-18756|-18741|-18735|-18731|-18722|-18710|-18697".
"|-18696|-18526|-18518|-18501|-18490|-18478|-18463|-18448|-18447|-18446|-18239|-18237|-18231|-18220|-18211".
"|-18201|-18184|-18183|-18181|-18012|-17997|-17988|-17970|-17964|-17961|-17950|-17947|-17931|-17928|-17922".
"|-17759|-17752|-17733|-17730|-17721|-17703|-17701|-17697|-17692|-17683|-17676|-17496|-17487|-17482|-17468".
"|-17454|-17433|-17427|-17417|-17202|-17185|-16983|-16970|-16942|-16915|-16733|-16708|-16706|-16689|-16664".
"|-16657|-16647|-16474|-16470|-16465|-16459|-16452|-16448|-16433|-16429|-16427|-16423|-16419|-16412|-16407".
"|-16403|-16401|-16393|-16220|-16216|-16212|-16205|-16202|-16187|-16180|-16171|-16169|-16158|-16155|-15959".
"|-15958|-15944|-15933|-15920|-15915|-15903|-15889|-15878|-15707|-15701|-15681|-15667|-15661|-15659|-15652".
"|-15640|-15631|-15625|-15454|-15448|-15436|-15435|-15419|-15416|-15408|-15394|-15385|-15377|-15375|-15369".
"|-15363|-15362|-15183|-15180|-15165|-15158|-15153|-15150|-15149|-15144|-15143|-15141|-15140|-15139|-15128".
"|-15121|-15119|-15117|-15110|-15109|-14941|-14937|-14933|-14930|-14929|-14928|-14926|-14922|-14921|-14914".
"|-14908|-14902|-14894|-14889|-14882|-14873|-14871|-14857|-14678|-14674|-14670|-14668|-14663|-14654|-14645".
"|-14630|-14594|-14429|-14407|-14399|-14384|-14379|-14368|-14355|-14353|-14345|-14170|-14159|-14151|-14149".
"|-14145|-14140|-14137|-14135|-14125|-14123|-14122|-14112|-14109|-14099|-14097|-14094|-14092|-14090|-14087".
"|-14083|-13917|-13914|-13910|-13907|-13906|-13905|-13896|-13894|-13878|-13870|-13859|-13847|-13831|-13658".
"|-13611|-13601|-13406|-13404|-13400|-13398|-13395|-13391|-13387|-13383|-13367|-13359|-13356|-13343|-13340".
"|-13329|-13326|-13318|-13147|-13138|-13120|-13107|-13096|-13095|-13091|-13076|-13068|-13063|-13060|-12888".
"|-12875|-12871|-12860|-12858|-12852|-12849|-12838|-12831|-12829|-12812|-12802|-12607|-12597|-12594|-12585".
"|-12556|-12359|-12346|-12320|-12300|-12120|-12099|-12089|-12074|-12067|-12058|-12039|-11867|-11861|-11847".
"|-11831|-11798|-11781|-11604|-11589|-11536|-11358|-11340|-11339|-11324|-11303|-11097|-11077|-11067|-11055".
"|-11052|-11045|-11041|-11038|-11024|-11020|-11019|-11018|-11014|-10838|-10832|-10815|-10800|-10790|-10780".
"|-10764|-10587|-10544|-10533|-10519|-10331|-10329|-10328|-10322|-10315|-10309|-10307|-10296|-10281|-10274".
"|-10270|-10262|-10260|-10256|-10254";
$_TDataKey   = explode('|', $_DataKey);
$_TDataValue = explode('|', $_DataValue);
$_Data = (PHP_VERSION&gt;='5.0') ? array_combine($_TDataKey, $_TDataValue) : _Array_Combine($_TDataKey, $_TDataValue);
arsort($_Data);
reset($_Data);
if($_Code != 'gb2312')    $_String = _U2_Utf8_Gb($_String);
$_Res = array();
for($i=0; $i&lt;mb_strlen($_String); $i++)
{
$_P = ord(mb_substr($_String, $i, 1));
if($_P&gt;160) {
$_Q = ord(mb_substr($_String, ++$i, 1));
$_P = $_P*256 + $_Q - 65536;
}
$_Res[]= _Pinyin($_P, $_Data);
}
if($modoul=='')
{
	return $_Res;
}else
{
	$strings = '';
	foreach($_Res as $key=&gt;$value)
	{
		$strings .= $value;
	}
	return $strings;
}

//return preg_replace("/[^a-z0-9]*/", '', $_Res);
}
function _Pinyin($_Num, $_Data)
{
if($_Num&gt;0  &amp;&amp; $_Num&lt;160   )
return chr($_Num);
elseif($_Num&lt;-20319 || $_Num&gt;-10247)
return '';
else {
foreach($_Data as $k=&gt;$v){
if($v&lt;=$_Num) break;
}
return $k;
}  

}   

function _U2_Utf8_Gb($_C)   {
$_String = '';
if($_C &lt; 0x80)
$_String .= $_C;
elseif($_C &lt; 0x800){
$_String .= chr(0xC0 | $_C&gt;&gt;6);$_String .= chr(0x80 | $_C &amp; 0x3F);
}elseif($_C &lt; 0x10000){
$_String .= chr(0xE0 | $_C&gt;&gt;12);$_String .= chr(0x80 | $_C&gt;&gt;6 &amp; 0x3F);$_String .= chr(0x80 | $_C &amp; 0x3F);
} elseif($_C &lt; 0x200000) {
$_String .= chr(0xF0 | $_C&gt;&gt;18);$_String .= chr(0x80 | $_C&gt;&gt;12 &amp; 0x3F);$_String .= chr(0x80 | $_C&gt;&gt;6 &amp; 0x3F);
$_String .= chr(0x80 | $_C &amp; 0x3F);
}
return iconv('UTF-8', 'GB2312//IGNORE', $_C);
}

function _Array_Combine($_Arr1, $_Arr2)   {
for($i=0; $i&lt;count($_Arr1); $i++)
$_Res[$_Arr1[$i]] = $_Arr2[$i];
return $_Res;
}

//Pinyin($str,true,1))
print str_repeat(" ", 4096);
	$sql = "select `id`,`$ziduan` from `$table` where 1";
	$query = mysql_query($sql);
	while($rs=mysql_fetch_array($query)){
		$id = $rs['id'];
		echo $id.'&amp;nbsp;&amp;nbsp;';
		$content = $rs[$ziduan];
		preg_match_all('/&lt;img.+src=\"\/upload\/images\/?(.+\.(jpg|gif|bmp|bnp|png))\"?.+&gt;/i',$content,$match);
		if($match){
			foreach($match[1] as $key=&gt;$val){
				preg_match("/[\x{4e00}-\x{9fa5}]/u",$val,$a);
				if(@$a['0']){
					$pinyin = Pinyin($val,true,1);
					$f   = iconv("UTF-8","gb2312",$val);
					$file = 'upload/images/'.$f;
					if(is_file($file)){
						if(!rename('upload/images/'.$f,'upload/images/'.$pinyin)){
							echo '修改《'.$val.'》-&gt;'.$pinyin.' 失败&amp;nbsp;&amp;nbsp;结束操作，不影响上面的数据';
							exit;
						}
					}else{
						echo '文件中没找到《'.$val.'》这个图片&amp;nbsp;&amp;nbsp;';
					}

					echo '数据中&lt;'.$val.'-&gt;'.$pinyin.'&gt;成功&amp;nbsp;&amp;nbsp;';
                                        //过滤正则中的特殊字符，如果有其他的可以再加
					$val    = str_ireplace('.','\.',$val);
					$val    = str_ireplace('(','\(',$val);
					$val    = str_ireplace(')','\)',$val);

					$content = preg_replace('|'.$val.'|',"$pinyin",$content);
				}else{
					echo $val.'-&gt;不转化&amp;nbsp;&amp;nbsp;';
				}
		    }
			$content = addslashes($content);
			$sql2 = "update `$table` set `$ziduan` = '$content' where `id` = '$id'";
			$query2 = mysql_query($sql2);
			if($query2){
				echo $id.'-&gt;数据更新成功！';
			}else{
				echo $id.'-&gt;数据更新失败！结束操作，不影响前面操作！';exit;
			}
		}else{
			echo '没有图片&amp;nbsp;&amp;nbsp;';
		}
		echo '&lt;br /&gt;';
		ob_flush();
	    flush();
	}
	echo '完成！&lt;a href="ceshi.php?ziduan='.$ziduan.'&amp;table='.$table.'" target="_blank"&gt;测试&lt;/a&gt;';
}
?&gt;
&lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;</textarea></div>
			<div class="crayon-main" style=" max-width: 645px;">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 13px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-53e88e953eb92-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-2">2</div><div class="crayon-num" data-line="crayon-53e88e953eb92-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-4">4</div><div class="crayon-num" data-line="crayon-53e88e953eb92-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-6">6</div><div class="crayon-num" data-line="crayon-53e88e953eb92-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-8">8</div><div class="crayon-num" data-line="crayon-53e88e953eb92-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-10">10</div><div class="crayon-num" data-line="crayon-53e88e953eb92-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-12">12</div><div class="crayon-num" data-line="crayon-53e88e953eb92-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-14">14</div><div class="crayon-num" data-line="crayon-53e88e953eb92-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-16">16</div><div class="crayon-num" data-line="crayon-53e88e953eb92-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-18">18</div><div class="crayon-num" data-line="crayon-53e88e953eb92-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-20">20</div><div class="crayon-num" data-line="crayon-53e88e953eb92-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-22">22</div><div class="crayon-num" data-line="crayon-53e88e953eb92-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-24">24</div><div class="crayon-num" data-line="crayon-53e88e953eb92-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-26">26</div><div class="crayon-num" data-line="crayon-53e88e953eb92-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-28">28</div><div class="crayon-num" data-line="crayon-53e88e953eb92-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-30">30</div><div class="crayon-num" data-line="crayon-53e88e953eb92-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-32">32</div><div class="crayon-num" data-line="crayon-53e88e953eb92-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-34">34</div><div class="crayon-num" data-line="crayon-53e88e953eb92-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-36">36</div><div class="crayon-num" data-line="crayon-53e88e953eb92-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-38">38</div><div class="crayon-num" data-line="crayon-53e88e953eb92-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-40">40</div><div class="crayon-num" data-line="crayon-53e88e953eb92-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-42">42</div><div class="crayon-num" data-line="crayon-53e88e953eb92-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-44">44</div><div class="crayon-num" data-line="crayon-53e88e953eb92-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-46">46</div><div class="crayon-num" data-line="crayon-53e88e953eb92-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-48">48</div><div class="crayon-num" data-line="crayon-53e88e953eb92-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-50">50</div><div class="crayon-num" data-line="crayon-53e88e953eb92-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-52">52</div><div class="crayon-num" data-line="crayon-53e88e953eb92-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-54">54</div><div class="crayon-num" data-line="crayon-53e88e953eb92-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-56">56</div><div class="crayon-num" data-line="crayon-53e88e953eb92-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-58">58</div><div class="crayon-num" data-line="crayon-53e88e953eb92-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-60">60</div><div class="crayon-num" data-line="crayon-53e88e953eb92-61">61</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-62">62</div><div class="crayon-num" data-line="crayon-53e88e953eb92-63">63</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-64">64</div><div class="crayon-num" data-line="crayon-53e88e953eb92-65">65</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-66">66</div><div class="crayon-num" data-line="crayon-53e88e953eb92-67">67</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-68">68</div><div class="crayon-num" data-line="crayon-53e88e953eb92-69">69</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-70">70</div><div class="crayon-num" data-line="crayon-53e88e953eb92-71">71</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-72">72</div><div class="crayon-num" data-line="crayon-53e88e953eb92-73">73</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-74">74</div><div class="crayon-num" data-line="crayon-53e88e953eb92-75">75</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-76">76</div><div class="crayon-num" data-line="crayon-53e88e953eb92-77">77</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-78">78</div><div class="crayon-num" data-line="crayon-53e88e953eb92-79">79</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-80">80</div><div class="crayon-num" data-line="crayon-53e88e953eb92-81">81</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-82">82</div><div class="crayon-num" data-line="crayon-53e88e953eb92-83">83</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-84">84</div><div class="crayon-num" data-line="crayon-53e88e953eb92-85">85</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-86">86</div><div class="crayon-num" data-line="crayon-53e88e953eb92-87">87</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-88">88</div><div class="crayon-num" data-line="crayon-53e88e953eb92-89">89</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-90">90</div><div class="crayon-num" data-line="crayon-53e88e953eb92-91">91</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-92">92</div><div class="crayon-num" data-line="crayon-53e88e953eb92-93">93</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-94">94</div><div class="crayon-num" data-line="crayon-53e88e953eb92-95">95</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-96">96</div><div class="crayon-num" data-line="crayon-53e88e953eb92-97">97</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-98">98</div><div class="crayon-num" data-line="crayon-53e88e953eb92-99">99</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-100">100</div><div class="crayon-num" data-line="crayon-53e88e953eb92-101">101</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-102">102</div><div class="crayon-num" data-line="crayon-53e88e953eb92-103">103</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-104">104</div><div class="crayon-num" data-line="crayon-53e88e953eb92-105">105</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-106">106</div><div class="crayon-num" data-line="crayon-53e88e953eb92-107">107</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-108">108</div><div class="crayon-num" data-line="crayon-53e88e953eb92-109">109</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-110">110</div><div class="crayon-num" data-line="crayon-53e88e953eb92-111">111</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-112">112</div><div class="crayon-num" data-line="crayon-53e88e953eb92-113">113</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-114">114</div><div class="crayon-num" data-line="crayon-53e88e953eb92-115">115</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-116">116</div><div class="crayon-num" data-line="crayon-53e88e953eb92-117">117</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-118">118</div><div class="crayon-num" data-line="crayon-53e88e953eb92-119">119</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-120">120</div><div class="crayon-num" data-line="crayon-53e88e953eb92-121">121</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-122">122</div><div class="crayon-num" data-line="crayon-53e88e953eb92-123">123</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-124">124</div><div class="crayon-num" data-line="crayon-53e88e953eb92-125">125</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-126">126</div><div class="crayon-num" data-line="crayon-53e88e953eb92-127">127</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-128">128</div><div class="crayon-num" data-line="crayon-53e88e953eb92-129">129</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-130">130</div><div class="crayon-num" data-line="crayon-53e88e953eb92-131">131</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-132">132</div><div class="crayon-num" data-line="crayon-53e88e953eb92-133">133</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-134">134</div><div class="crayon-num" data-line="crayon-53e88e953eb92-135">135</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-136">136</div><div class="crayon-num" data-line="crayon-53e88e953eb92-137">137</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-138">138</div><div class="crayon-num" data-line="crayon-53e88e953eb92-139">139</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-140">140</div><div class="crayon-num" data-line="crayon-53e88e953eb92-141">141</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-142">142</div><div class="crayon-num" data-line="crayon-53e88e953eb92-143">143</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-144">144</div><div class="crayon-num" data-line="crayon-53e88e953eb92-145">145</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-146">146</div><div class="crayon-num" data-line="crayon-53e88e953eb92-147">147</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-148">148</div><div class="crayon-num" data-line="crayon-53e88e953eb92-149">149</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-150">150</div><div class="crayon-num" data-line="crayon-53e88e953eb92-151">151</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-152">152</div><div class="crayon-num" data-line="crayon-53e88e953eb92-153">153</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-154">154</div><div class="crayon-num" data-line="crayon-53e88e953eb92-155">155</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-156">156</div><div class="crayon-num" data-line="crayon-53e88e953eb92-157">157</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-158">158</div><div class="crayon-num" data-line="crayon-53e88e953eb92-159">159</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-160">160</div><div class="crayon-num" data-line="crayon-53e88e953eb92-161">161</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-162">162</div><div class="crayon-num" data-line="crayon-53e88e953eb92-163">163</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-164">164</div><div class="crayon-num" data-line="crayon-53e88e953eb92-165">165</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-166">166</div><div class="crayon-num" data-line="crayon-53e88e953eb92-167">167</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-168">168</div><div class="crayon-num" data-line="crayon-53e88e953eb92-169">169</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-170">170</div><div class="crayon-num" data-line="crayon-53e88e953eb92-171">171</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-172">172</div><div class="crayon-num" data-line="crayon-53e88e953eb92-173">173</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-174">174</div><div class="crayon-num" data-line="crayon-53e88e953eb92-175">175</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-176">176</div><div class="crayon-num" data-line="crayon-53e88e953eb92-177">177</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-178">178</div><div class="crayon-num" data-line="crayon-53e88e953eb92-179">179</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-180">180</div><div class="crayon-num" data-line="crayon-53e88e953eb92-181">181</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-182">182</div><div class="crayon-num" data-line="crayon-53e88e953eb92-183">183</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-184">184</div><div class="crayon-num" data-line="crayon-53e88e953eb92-185">185</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-186">186</div><div class="crayon-num" data-line="crayon-53e88e953eb92-187">187</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-188">188</div><div class="crayon-num" data-line="crayon-53e88e953eb92-189">189</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-190">190</div><div class="crayon-num" data-line="crayon-53e88e953eb92-191">191</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-192">192</div><div class="crayon-num" data-line="crayon-53e88e953eb92-193">193</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-194">194</div><div class="crayon-num" data-line="crayon-53e88e953eb92-195">195</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-196">196</div><div class="crayon-num" data-line="crayon-53e88e953eb92-197">197</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-198">198</div><div class="crayon-num" data-line="crayon-53e88e953eb92-199">199</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-200">200</div><div class="crayon-num" data-line="crayon-53e88e953eb92-201">201</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-202">202</div><div class="crayon-num" data-line="crayon-53e88e953eb92-203">203</div><div class="crayon-num crayon-striped-num" data-line="crayon-53e88e953eb92-204">204</div><div class="crayon-num" data-line="crayon-53e88e953eb92-205">205</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 13px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-53e88e953eb92-1"><span class="ta">&lt;?php</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-2"><span class="e">set_time_limit</span><span class="sy">(</span><span class="cn">0</span><span class="sy">)</span><span class="sy">;</span></div><div class="crayon-line" id="crayon-53e88e953eb92-3"><span class="e">header</span><span class="sy">(</span><span class="s">"Content-Type:text/html;charset=utf-8"</span><span class="sy">)</span><span class="sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-4"><span class="c">//这几个参数需要配置</span></div><div class="crayon-line" id="crayon-53e88e953eb92-5"><span class="v">$dbHost</span><span class="h"> </span><span class="o">=</span><span class="h"> </span><span class="s">'localhost'</span><span class="sy">;</span><span class="c">//服务器</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-6"><span class="v">$dbUser</span><span class="h"> </span><span class="o">=</span><span class="h"> </span><span class="s">'root'</span><span class="sy">;</span><span class="c">//用户名</span></div><div class="crayon-line" id="crayon-53e88e953eb92-7"><span class="v">$dbPwd</span><span class="h">&nbsp;&nbsp;</span><span class="o">=</span><span class="h"> </span><span class="s">'123456'</span><span class="sy">;</span><span class="c">//密码</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-8"><span class="v">$dbDate</span><span class="h"> </span><span class="o">=</span><span class="h"> </span><span class="s">'rjtnb'</span><span class="sy">;</span><span class="c">//数据库名</span></div><div class="crayon-line" id="crayon-53e88e953eb92-9"><span class="e">set_time_limit</span><span class="sy">(</span><span class="cn">0</span><span class="sy">)</span><span class="sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-10"><span class="v">$con</span><span class="h"> </span><span class="o">=</span><span class="h"> </span><span class="e">mysql_connect</span><span class="sy">(</span><span class="v">$dbHost</span><span class="sy">,</span><span class="v">$dbUser</span><span class="sy">,</span><span class="v">$dbPwd</span><span class="sy">)</span><span class="sy">;</span></div><div class="crayon-line" id="crayon-53e88e953eb92-11"><span class="st">if</span><span class="sy">(</span><span class="k ">empty</span><span class="sy">(</span><span class="v">$con</span><span class="sy">)</span><span class="sy">)</span><span class="sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-12"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="k ">echo</span><span class="h"> </span><span class="s">'连接服务器失败'</span><span class="sy">;</span></div><div class="crayon-line" id="crayon-53e88e953eb92-13"><span class="sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-14"><span class="e">mysql_query</span><span class="sy">(</span><span class="s">"SET character_set_connection=utf8, character_set_results=utf8, character_set_client=binary"</span><span class="sy">,</span><span class="v">$con</span><span class="sy">)</span><span class="sy">;</span></div><div class="crayon-line" id="crayon-53e88e953eb92-15"><span class="v">$conni</span><span class="h"> </span><span class="o">=</span><span class="h"> </span><span class="e">mysql_select_db</span><span class="sy">(</span><span class="v">$dbDate</span><span class="sy">,</span><span class="v">$con</span><span class="sy">)</span><span class="sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-16"><span class="st">if</span><span class="sy">(</span><span class="k ">empty</span><span class="sy">(</span><span class="v">$conni</span><span class="sy">)</span><span class="sy">)</span><span class="sy">{</span></div><div class="crayon-line" id="crayon-53e88e953eb92-17"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="k ">echo</span><span class="h"> </span><span class="s">'选择数据库失败'</span><span class="sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-18"><span class="sy">}</span></div><div class="crayon-line" id="crayon-53e88e953eb92-19"><span class="c">/*access链接结束*/</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-20"><span class="ta">?&gt;</span></div><div class="crayon-line" id="crayon-53e88e953eb92-21"><span class="o">&lt;</span><span class="i">html</span><span class="o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-22"><span class="o">&lt;</span><span class="i">head</span><span class="o">&gt;</span></div><div class="crayon-line" id="crayon-53e88e953eb92-23"><span class="o">&lt;</span><span class="i">title</span><span class="o">&gt;</span>将数据库文章内容的图片转化为拼音<span class="o">&lt;</span><span class="o">/</span><span class="i">title</span><span class="o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-24"><span class="o">&lt;</span><span class="o">/</span><span class="i">head</span><span class="o">&gt;</span></div><div class="crayon-line" id="crayon-53e88e953eb92-25"><span class="o">&lt;</span><span class="i">body</span><span class="o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-26"><span class="o">&lt;</span><span class="e">form </span><span class="i">method</span><span class="o">=</span><span class="s">"post"</span><span class="h"> </span><span class="i">action</span><span class="o">=</span><span class="s">""</span><span class="o">&gt;</span></div><div class="crayon-line" id="crayon-53e88e953eb92-27">请保证本文件位置可以找到图片文件！<span class="o">&lt;</span><span class="i">br</span><span class="h"> </span><span class="o">/</span><span class="o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-28">要修改的数据表：</div><div class="crayon-line" id="crayon-53e88e953eb92-29"><span class="o">&lt;</span><span class="e">input </span><span class="i">type</span><span class="o">=</span><span class="s">"text"</span><span class="h"> </span><span class="i">name</span><span class="o">=</span><span class="s">"table"</span><span class="h"> </span><span class="i">value</span><span class="o">=</span><span class="s">"<span class="ta">&lt;?php</span><span class="h"> </span><span class="k ">echo</span><span class="h"> </span><span class="sy">@</span><span class="v">$_POST</span><span class="sy">[</span><span class="s">'table'</span><span class="sy">]</span><span class="sy">;</span><span class="ta">?&gt;</span>"</span><span class="h"> </span><span class="i">size</span><span class="o">=</span><span class="s">""</span><span class="h"> </span><span class="o">/</span><span class="o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-30">要修改的字段：</div><div class="crayon-line" id="crayon-53e88e953eb92-31"><span class="o">&lt;</span><span class="e">input </span><span class="i">type</span><span class="o">=</span><span class="s">"text"</span><span class="h"> </span><span class="i">name</span><span class="o">=</span><span class="s">"ziduan"</span><span class="h"> </span><span class="i">value</span><span class="o">=</span><span class="s">"<span class="ta">&lt;?php</span><span class="h"> </span><span class="k ">echo</span><span class="h"> </span><span class="sy">@</span><span class="v">$_POST</span><span class="sy">[</span><span class="s">'ziduan'</span><span class="sy">]</span><span class="sy">;</span><span class="ta">?&gt;</span>"</span><span class="h"> </span><span class="i">size</span><span class="o">=</span><span class="s">""</span><span class="h"> </span><span class="o">/</span><span class="o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-32"><span class="o">&lt;</span><span class="e">input </span><span class="i">type</span><span class="o">=</span><span class="s">"submit"</span><span class="h"> </span><span class="i">name</span><span class="o">=</span><span class="s">"submit"</span><span class="h"> </span><span class="i">value</span><span class="o">=</span><span class="s">"提交"</span><span class="h"> </span><span class="o">/</span><span class="o">&gt;</span><span class="o">&lt;</span><span class="e">br</span><span class="h"> </span><span class="o">/</span><span class="o">&gt;</span></div><div class="crayon-line" id="crayon-53e88e953eb92-33"><span class="ta">&lt;?php</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-34"><span class="v">$sub</span><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="o">=</span><span class="h"> </span><span class="sy">@</span><span class="v">$_POST</span><span class="sy">[</span><span class="s">'submit'</span><span class="sy">]</span><span class="sy">;</span></div><div class="crayon-line" id="crayon-53e88e953eb92-35"><span class="v">$table</span><span class="h">&nbsp;&nbsp;</span><span class="o">=</span><span class="h"> </span><span class="sy">@</span><span class="v">$_POST</span><span class="sy">[</span><span class="s">'table'</span><span class="sy">]</span><span class="sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-36"><span class="v">$ziduan</span><span class="h"> </span><span class="o">=</span><span class="h"> </span><span class="sy">@</span><span class="v">$_POST</span><span class="sy">[</span><span class="s">'ziduan'</span><span class="sy">]</span><span class="sy">;</span></div><div class="crayon-line" id="crayon-53e88e953eb92-37"><span class="st">if</span><span class="sy">(</span><span class="v">$sub</span><span class="o">&amp;&amp;</span><span class="v">$table</span><span class="o">&amp;&amp;</span><span class="v">$ziduan</span><span class="sy">)</span><span class="sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-38"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="t">function</span><span class="h"> </span><span class="e">Pinyin</span><span class="sy">(</span><span class="v">$_String</span><span class="sy">,</span><span class="h"> </span><span class="v">$modoul</span><span class="o">=</span><span class="s">''</span><span class="sy">,</span><span class="h"> </span><span class="v">$_Code</span><span class="o">=</span><span class="s">'gb2312'</span><span class="sy">)</span><span class="h">&nbsp;&nbsp; </span><span class="sy">{</span></div><div class="crayon-line" id="crayon-53e88e953eb92-39"><span class="v">$_DataKey</span><span class="h"> </span><span class="o">=</span><span class="h"> </span><span class="s">"a|ai|an|ang|ao|ba|bai|ban|bang|bao|bei|ben|beng|bi|bian|biao|bie|bin|bing|bo|bu|ca|cai|can|cang|cao|ce|ceng|cha"</span><span class="sy">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-40"><span class="s">"|chai|chan|chang|chao|che|chen|cheng|chi|chong|chou|chu|chuai|chuan|chuang|chui|chun|chuo|ci|cong|cou|cu|"</span><span class="sy">.</span></div><div class="crayon-line" id="crayon-53e88e953eb92-41"><span class="s">"cuan|cui|cun|cuo|da|dai|dan|dang|dao|de|deng|di|dian|diao|die|ding|diu|dong|dou|du|duan|dui|dun|duo|e|en|er"</span><span class="sy">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-42"><span class="s">"|fa|fan|fang|fei|fen|feng|fo|fou|fu|ga|gai|gan|gang|gao|ge|gei|gen|geng|gong|gou|gu|gua|guai|guan|guang|gui"</span><span class="sy">.</span></div><div class="crayon-line" id="crayon-53e88e953eb92-43"><span class="s">"|gun|guo|ha|hai|han|hang|hao|he|hei|hen|heng|hong|hou|hu|hua|huai|huan|huang|hui|hun|huo|ji|jia|jian|jiang"</span><span class="sy">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-44"><span class="s">"|jiao|jie|jin|jing|jiong|jiu|ju|juan|jue|jun|ka|kai|kan|kang|kao|ke|ken|keng|kong|kou|ku|kua|kuai|kuan|kuang"</span><span class="sy">.</span></div><div class="crayon-line" id="crayon-53e88e953eb92-45"><span class="s">"|kui|kun|kuo|la|lai|lan|lang|lao|le|lei|leng|li|lia|lian|liang|liao|lie|lin|ling|liu|long|lou|lu|lv|luan|lue"</span><span class="sy">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-46"><span class="s">"|lun|luo|ma|mai|man|mang|mao|me|mei|men|meng|mi|mian|miao|mie|min|ming|miu|mo|mou|mu|na|nai|nan|nang|nao|ne"</span><span class="sy">.</span></div><div class="crayon-line" id="crayon-53e88e953eb92-47"><span class="s">"|nei|nen|neng|ni|nian|niang|niao|nie|nin|ning|niu|nong|nu|nv|nuan|nue|nuo|o|ou|pa|pai|pan|pang|pao|pei|pen"</span><span class="sy">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-48"><span class="s">"|peng|pi|pian|piao|pie|pin|ping|po|pu|qi|qia|qian|qiang|qiao|qie|qin|qing|qiong|qiu|qu|quan|que|qun|ran|rang"</span><span class="sy">.</span></div><div class="crayon-line" id="crayon-53e88e953eb92-49"><span class="s">"|rao|re|ren|reng|ri|rong|rou|ru|ruan|rui|run|ruo|sa|sai|san|sang|sao|se|sen|seng|sha|shai|shan|shang|shao|"</span><span class="sy">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-50"><span class="s">"she|shen|sheng|shi|shou|shu|shua|shuai|shuan|shuang|shui|shun|shuo|si|song|sou|su|suan|sui|sun|suo|ta|tai|"</span><span class="sy">.</span></div><div class="crayon-line" id="crayon-53e88e953eb92-51"><span class="s">"tan|tang|tao|te|teng|ti|tian|tiao|tie|ting|tong|tou|tu|tuan|tui|tun|tuo|wa|wai|wan|wang|wei|wen|weng|wo|wu"</span><span class="sy">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-52"><span class="s">"|xi|xia|xian|xiang|xiao|xie|xin|xing|xiong|xiu|xu|xuan|xue|xun|ya|yan|yang|yao|ye|yi|yin|ying|yo|yong|you"</span><span class="sy">.</span></div><div class="crayon-line" id="crayon-53e88e953eb92-53"><span class="s">"|yu|yuan|yue|yun|za|zai|zan|zang|zao|ze|zei|zen|zeng|zha|zhai|zhan|zhang|zhao|zhe|zhen|zheng|zhi|zhong|"</span><span class="sy">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-54"><span class="s">"zhou|zhu|zhua|zhuai|zhuan|zhuang|zhui|zhun|zhuo|zi|zong|zou|zu|zuan|zui|zun|zuo"</span><span class="sy">;</span></div><div class="crayon-line" id="crayon-53e88e953eb92-55"><span class="v">$_DataValue</span><span class="h"> </span><span class="o">=</span><span class="h"> </span><span class="s">"-20319|-20317|-20304|-20295|-20292|-20283|-20265|-20257|-20242|-20230|-20051|-20036|-20032|-20026|-20002|-19990"</span><span class="sy">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-56"><span class="s">"|-19986|-19982|-19976|-19805|-19784|-19775|-19774|-19763|-19756|-19751|-19746|-19741|-19739|-19728|-19725"</span><span class="sy">.</span></div><div class="crayon-line" id="crayon-53e88e953eb92-57"><span class="s">"|-19715|-19540|-19531|-19525|-19515|-19500|-19484|-19479|-19467|-19289|-19288|-19281|-19275|-19270|-19263"</span><span class="sy">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-58"><span class="s">"|-19261|-19249|-19243|-19242|-19238|-19235|-19227|-19224|-19218|-19212|-19038|-19023|-19018|-19006|-19003"</span><span class="sy">.</span></div><div class="crayon-line" id="crayon-53e88e953eb92-59"><span class="s">"|-18996|-18977|-18961|-18952|-18783|-18774|-18773|-18763|-18756|-18741|-18735|-18731|-18722|-18710|-18697"</span><span class="sy">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-60"><span class="s">"|-18696|-18526|-18518|-18501|-18490|-18478|-18463|-18448|-18447|-18446|-18239|-18237|-18231|-18220|-18211"</span><span class="sy">.</span></div><div class="crayon-line" id="crayon-53e88e953eb92-61"><span class="s">"|-18201|-18184|-18183|-18181|-18012|-17997|-17988|-17970|-17964|-17961|-17950|-17947|-17931|-17928|-17922"</span><span class="sy">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-62"><span class="s">"|-17759|-17752|-17733|-17730|-17721|-17703|-17701|-17697|-17692|-17683|-17676|-17496|-17487|-17482|-17468"</span><span class="sy">.</span></div><div class="crayon-line" id="crayon-53e88e953eb92-63"><span class="s">"|-17454|-17433|-17427|-17417|-17202|-17185|-16983|-16970|-16942|-16915|-16733|-16708|-16706|-16689|-16664"</span><span class="sy">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-64"><span class="s">"|-16657|-16647|-16474|-16470|-16465|-16459|-16452|-16448|-16433|-16429|-16427|-16423|-16419|-16412|-16407"</span><span class="sy">.</span></div><div class="crayon-line" id="crayon-53e88e953eb92-65"><span class="s">"|-16403|-16401|-16393|-16220|-16216|-16212|-16205|-16202|-16187|-16180|-16171|-16169|-16158|-16155|-15959"</span><span class="sy">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-66"><span class="s">"|-15958|-15944|-15933|-15920|-15915|-15903|-15889|-15878|-15707|-15701|-15681|-15667|-15661|-15659|-15652"</span><span class="sy">.</span></div><div class="crayon-line" id="crayon-53e88e953eb92-67"><span class="s">"|-15640|-15631|-15625|-15454|-15448|-15436|-15435|-15419|-15416|-15408|-15394|-15385|-15377|-15375|-15369"</span><span class="sy">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-68"><span class="s">"|-15363|-15362|-15183|-15180|-15165|-15158|-15153|-15150|-15149|-15144|-15143|-15141|-15140|-15139|-15128"</span><span class="sy">.</span></div><div class="crayon-line" id="crayon-53e88e953eb92-69"><span class="s">"|-15121|-15119|-15117|-15110|-15109|-14941|-14937|-14933|-14930|-14929|-14928|-14926|-14922|-14921|-14914"</span><span class="sy">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-70"><span class="s">"|-14908|-14902|-14894|-14889|-14882|-14873|-14871|-14857|-14678|-14674|-14670|-14668|-14663|-14654|-14645"</span><span class="sy">.</span></div><div class="crayon-line" id="crayon-53e88e953eb92-71"><span class="s">"|-14630|-14594|-14429|-14407|-14399|-14384|-14379|-14368|-14355|-14353|-14345|-14170|-14159|-14151|-14149"</span><span class="sy">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-72"><span class="s">"|-14145|-14140|-14137|-14135|-14125|-14123|-14122|-14112|-14109|-14099|-14097|-14094|-14092|-14090|-14087"</span><span class="sy">.</span></div><div class="crayon-line" id="crayon-53e88e953eb92-73"><span class="s">"|-14083|-13917|-13914|-13910|-13907|-13906|-13905|-13896|-13894|-13878|-13870|-13859|-13847|-13831|-13658"</span><span class="sy">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-74"><span class="s">"|-13611|-13601|-13406|-13404|-13400|-13398|-13395|-13391|-13387|-13383|-13367|-13359|-13356|-13343|-13340"</span><span class="sy">.</span></div><div class="crayon-line" id="crayon-53e88e953eb92-75"><span class="s">"|-13329|-13326|-13318|-13147|-13138|-13120|-13107|-13096|-13095|-13091|-13076|-13068|-13063|-13060|-12888"</span><span class="sy">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-76"><span class="s">"|-12875|-12871|-12860|-12858|-12852|-12849|-12838|-12831|-12829|-12812|-12802|-12607|-12597|-12594|-12585"</span><span class="sy">.</span></div><div class="crayon-line" id="crayon-53e88e953eb92-77"><span class="s">"|-12556|-12359|-12346|-12320|-12300|-12120|-12099|-12089|-12074|-12067|-12058|-12039|-11867|-11861|-11847"</span><span class="sy">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-78"><span class="s">"|-11831|-11798|-11781|-11604|-11589|-11536|-11358|-11340|-11339|-11324|-11303|-11097|-11077|-11067|-11055"</span><span class="sy">.</span></div><div class="crayon-line" id="crayon-53e88e953eb92-79"><span class="s">"|-11052|-11045|-11041|-11038|-11024|-11020|-11019|-11018|-11014|-10838|-10832|-10815|-10800|-10790|-10780"</span><span class="sy">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-80"><span class="s">"|-10764|-10587|-10544|-10533|-10519|-10331|-10329|-10328|-10322|-10315|-10309|-10307|-10296|-10281|-10274"</span><span class="sy">.</span></div><div class="crayon-line" id="crayon-53e88e953eb92-81"><span class="s">"|-10270|-10262|-10260|-10256|-10254"</span><span class="sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-82"><span class="v">$_TDataKey</span><span class="h">&nbsp;&nbsp; </span><span class="o">=</span><span class="h"> </span><span class="e">explode</span><span class="sy">(</span><span class="s">'|'</span><span class="sy">,</span><span class="h"> </span><span class="v">$_DataKey</span><span class="sy">)</span><span class="sy">;</span></div><div class="crayon-line" id="crayon-53e88e953eb92-83"><span class="v">$_TDataValue</span><span class="h"> </span><span class="o">=</span><span class="h"> </span><span class="e">explode</span><span class="sy">(</span><span class="s">'|'</span><span class="sy">,</span><span class="h"> </span><span class="v">$_DataValue</span><span class="sy">)</span><span class="sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-84"><span class="v">$_Data</span><span class="h"> </span><span class="o">=</span><span class="h"> </span><span class="sy">(</span><span class="e ">PHP_VERSION</span><span class="o">&gt;=</span><span class="s">'5.0'</span><span class="sy">)</span><span class="h"> </span><span class="sy">?</span><span class="h"> </span><span class="e">array_combine</span><span class="sy">(</span><span class="v">$_TDataKey</span><span class="sy">,</span><span class="h"> </span><span class="v">$_TDataValue</span><span class="sy">)</span><span class="h"> </span><span class="o">:</span><span class="h"> </span><span class="e">_Array_Combine</span><span class="sy">(</span><span class="v">$_TDataKey</span><span class="sy">,</span><span class="h"> </span><span class="v">$_TDataValue</span><span class="sy">)</span><span class="sy">;</span></div><div class="crayon-line" id="crayon-53e88e953eb92-85"><span class="e">arsort</span><span class="sy">(</span><span class="v">$_Data</span><span class="sy">)</span><span class="sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-86"><span class="e">reset</span><span class="sy">(</span><span class="v">$_Data</span><span class="sy">)</span><span class="sy">;</span></div><div class="crayon-line" id="crayon-53e88e953eb92-87"><span class="st">if</span><span class="sy">(</span><span class="v">$_Code</span><span class="h"> </span><span class="o">!=</span><span class="h"> </span><span class="s">'gb2312'</span><span class="sy">)</span><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="v">$_String</span><span class="h"> </span><span class="o">=</span><span class="h"> </span><span class="e">_U2_Utf8_Gb</span><span class="sy">(</span><span class="v">$_String</span><span class="sy">)</span><span class="sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-88"><span class="v">$_Res</span><span class="h"> </span><span class="o">=</span><span class="h"> </span><span class="t">array</span><span class="sy">(</span><span class="sy">)</span><span class="sy">;</span></div><div class="crayon-line" id="crayon-53e88e953eb92-89"><span class="st">for</span><span class="sy">(</span><span class="v">$i</span><span class="o">=</span><span class="cn">0</span><span class="sy">;</span><span class="h"> </span><span class="v">$i</span><span class="o">&lt;</span><span class="e">mb_strlen</span><span class="sy">(</span><span class="v">$_String</span><span class="sy">)</span><span class="sy">;</span><span class="h"> </span><span class="v">$i</span><span class="o">++</span><span class="sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-90"><span class="sy">{</span></div><div class="crayon-line" id="crayon-53e88e953eb92-91"><span class="v">$_P</span><span class="h"> </span><span class="o">=</span><span class="h"> </span><span class="e">ord</span><span class="sy">(</span><span class="e">mb_substr</span><span class="sy">(</span><span class="v">$_String</span><span class="sy">,</span><span class="h"> </span><span class="v">$i</span><span class="sy">,</span><span class="h"> </span><span class="cn">1</span><span class="sy">)</span><span class="sy">)</span><span class="sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-92"><span class="st">if</span><span class="sy">(</span><span class="v">$_P</span><span class="o">&gt;</span><span class="cn">160</span><span class="sy">)</span><span class="h"> </span><span class="sy">{</span></div><div class="crayon-line" id="crayon-53e88e953eb92-93"><span class="v">$_Q</span><span class="h"> </span><span class="o">=</span><span class="h"> </span><span class="e">ord</span><span class="sy">(</span><span class="e">mb_substr</span><span class="sy">(</span><span class="v">$_String</span><span class="sy">,</span><span class="h"> </span><span class="o">++</span><span class="v">$i</span><span class="sy">,</span><span class="h"> </span><span class="cn">1</span><span class="sy">)</span><span class="sy">)</span><span class="sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-94"><span class="v">$_P</span><span class="h"> </span><span class="o">=</span><span class="h"> </span><span class="v">$_P</span><span class="o">*</span><span class="cn">256</span><span class="h"> </span><span class="o">+</span><span class="h"> </span><span class="v">$_Q</span><span class="h"> </span><span class="o">-</span><span class="h"> </span><span class="cn">65536</span><span class="sy">;</span></div><div class="crayon-line" id="crayon-53e88e953eb92-95"><span class="sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-96"><span class="v">$_Res</span><span class="sy">[</span><span class="sy">]</span><span class="o">=</span><span class="h"> </span><span class="e">_Pinyin</span><span class="sy">(</span><span class="v">$_P</span><span class="sy">,</span><span class="h"> </span><span class="v">$_Data</span><span class="sy">)</span><span class="sy">;</span></div><div class="crayon-line" id="crayon-53e88e953eb92-97"><span class="sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-98"><span class="st">if</span><span class="sy">(</span><span class="v">$modoul</span><span class="o">==</span><span class="s">''</span><span class="sy">)</span></div><div class="crayon-line" id="crayon-53e88e953eb92-99"><span class="sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-100"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="k ">return</span><span class="h"> </span><span class="v">$_Res</span><span class="sy">;</span></div><div class="crayon-line" id="crayon-53e88e953eb92-101"><span class="sy">}</span><span class="st">else</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-102"><span class="sy">{</span></div><div class="crayon-line" id="crayon-53e88e953eb92-103"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="v">$strings</span><span class="h"> </span><span class="o">=</span><span class="h"> </span><span class="s">''</span><span class="sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-104"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="st">foreach</span><span class="sy">(</span><span class="v">$_Res</span><span class="h"> </span><span class="st">as</span><span class="h"> </span><span class="v">$key</span><span class="o">=</span><span class="o">&gt;</span><span class="v">$value</span><span class="sy">)</span></div><div class="crayon-line" id="crayon-53e88e953eb92-105"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-106"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="v">$strings</span><span class="h"> </span><span class="sy">.</span><span class="o">=</span><span class="h"> </span><span class="v">$value</span><span class="sy">;</span></div><div class="crayon-line" id="crayon-53e88e953eb92-107"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-108"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="k ">return</span><span class="h"> </span><span class="v">$strings</span><span class="sy">;</span></div><div class="crayon-line" id="crayon-53e88e953eb92-109"><span class="sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-110">&nbsp;</div><div class="crayon-line" id="crayon-53e88e953eb92-111"><span class="c">//return preg_replace("/[^a-z0-9]*/", '', $_Res);</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-112"><span class="sy">}</span></div><div class="crayon-line" id="crayon-53e88e953eb92-113"><span class="t">function</span><span class="h"> </span><span class="e">_Pinyin</span><span class="sy">(</span><span class="v">$_Num</span><span class="sy">,</span><span class="h"> </span><span class="v">$_Data</span><span class="sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-114"><span class="sy">{</span></div><div class="crayon-line" id="crayon-53e88e953eb92-115"><span class="st">if</span><span class="sy">(</span><span class="v">$_Num</span><span class="o">&gt;</span><span class="cn">0</span><span class="h">&nbsp;&nbsp;</span><span class="o">&amp;&amp;</span><span class="h"> </span><span class="v">$_Num</span><span class="o">&lt;</span><span class="cn">160</span><span class="h">&nbsp;&nbsp; </span><span class="sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-116"><span class="k ">return</span><span class="h"> </span><span class="e">chr</span><span class="sy">(</span><span class="v">$_Num</span><span class="sy">)</span><span class="sy">;</span></div><div class="crayon-line" id="crayon-53e88e953eb92-117"><span class="st">elseif</span><span class="sy">(</span><span class="v">$_Num</span><span class="o">&lt;</span><span class="o">-</span><span class="cn">20319</span><span class="h"> </span><span class="o">||</span><span class="h"> </span><span class="v">$_Num</span><span class="o">&gt;</span><span class="o">-</span><span class="cn">10247</span><span class="sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-118"><span class="k ">return</span><span class="h"> </span><span class="s">''</span><span class="sy">;</span></div><div class="crayon-line" id="crayon-53e88e953eb92-119"><span class="st">else</span><span class="h"> </span><span class="sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-120"><span class="st">foreach</span><span class="sy">(</span><span class="v">$_Data</span><span class="h"> </span><span class="st">as</span><span class="h"> </span><span class="v">$k</span><span class="o">=</span><span class="o">&gt;</span><span class="v">$v</span><span class="sy">)</span><span class="sy">{</span></div><div class="crayon-line" id="crayon-53e88e953eb92-121"><span class="st">if</span><span class="sy">(</span><span class="v">$v</span><span class="o">&lt;=</span><span class="v">$_Num</span><span class="sy">)</span><span class="h"> </span><span class="st">break</span><span class="sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-122"><span class="sy">}</span></div><div class="crayon-line" id="crayon-53e88e953eb92-123"><span class="k ">return</span><span class="h"> </span><span class="v">$k</span><span class="sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-124"><span class="sy">}</span><span class="h">&nbsp;&nbsp;</span></div><div class="crayon-line" id="crayon-53e88e953eb92-125">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-126"><span class="sy">}</span><span class="h">&nbsp;&nbsp; </span></div><div class="crayon-line" id="crayon-53e88e953eb92-127">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-128"><span class="t">function</span><span class="h"> </span><span class="e">_U2_Utf8_Gb</span><span class="sy">(</span><span class="v">$_C</span><span class="sy">)</span><span class="h">&nbsp;&nbsp; </span><span class="sy">{</span></div><div class="crayon-line" id="crayon-53e88e953eb92-129"><span class="v">$_String</span><span class="h"> </span><span class="o">=</span><span class="h"> </span><span class="s">''</span><span class="sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-130"><span class="st">if</span><span class="sy">(</span><span class="v">$_C</span><span class="h"> </span><span class="o">&lt;</span><span class="h"> </span><span class="cn">0x80</span><span class="sy">)</span></div><div class="crayon-line" id="crayon-53e88e953eb92-131"><span class="v">$_String</span><span class="h"> </span><span class="sy">.</span><span class="o">=</span><span class="h"> </span><span class="v">$_C</span><span class="sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-132"><span class="st">elseif</span><span class="sy">(</span><span class="v">$_C</span><span class="h"> </span><span class="o">&lt;</span><span class="h"> </span><span class="cn">0x800</span><span class="sy">)</span><span class="sy">{</span></div><div class="crayon-line" id="crayon-53e88e953eb92-133"><span class="v">$_String</span><span class="h"> </span><span class="sy">.</span><span class="o">=</span><span class="h"> </span><span class="e">chr</span><span class="sy">(</span><span class="cn">0xC0</span><span class="h"> </span><span class="o">|</span><span class="h"> </span><span class="v">$_C</span><span class="o">&gt;&gt;</span><span class="cn">6</span><span class="sy">)</span><span class="sy">;</span><span class="v">$_String</span><span class="h"> </span><span class="sy">.</span><span class="o">=</span><span class="h"> </span><span class="e">chr</span><span class="sy">(</span><span class="cn">0x80</span><span class="h"> </span><span class="o">|</span><span class="h"> </span><span class="v">$_C</span><span class="h"> </span><span class="o">&amp;</span><span class="h"> </span><span class="cn">0x3F</span><span class="sy">)</span><span class="sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-134"><span class="sy">}</span><span class="st">elseif</span><span class="sy">(</span><span class="v">$_C</span><span class="h"> </span><span class="o">&lt;</span><span class="h"> </span><span class="cn">0x10000</span><span class="sy">)</span><span class="sy">{</span></div><div class="crayon-line" id="crayon-53e88e953eb92-135"><span class="v">$_String</span><span class="h"> </span><span class="sy">.</span><span class="o">=</span><span class="h"> </span><span class="e">chr</span><span class="sy">(</span><span class="cn">0xE0</span><span class="h"> </span><span class="o">|</span><span class="h"> </span><span class="v">$_C</span><span class="o">&gt;&gt;</span><span class="cn">12</span><span class="sy">)</span><span class="sy">;</span><span class="v">$_String</span><span class="h"> </span><span class="sy">.</span><span class="o">=</span><span class="h"> </span><span class="e">chr</span><span class="sy">(</span><span class="cn">0x80</span><span class="h"> </span><span class="o">|</span><span class="h"> </span><span class="v">$_C</span><span class="o">&gt;&gt;</span><span class="cn">6</span><span class="h"> </span><span class="o">&amp;</span><span class="h"> </span><span class="cn">0x3F</span><span class="sy">)</span><span class="sy">;</span><span class="v">$_String</span><span class="h"> </span><span class="sy">.</span><span class="o">=</span><span class="h"> </span><span class="e">chr</span><span class="sy">(</span><span class="cn">0x80</span><span class="h"> </span><span class="o">|</span><span class="h"> </span><span class="v">$_C</span><span class="h"> </span><span class="o">&amp;</span><span class="h"> </span><span class="cn">0x3F</span><span class="sy">)</span><span class="sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-136"><span class="sy">}</span><span class="h"> </span><span class="st">elseif</span><span class="sy">(</span><span class="v">$_C</span><span class="h"> </span><span class="o">&lt;</span><span class="h"> </span><span class="cn">0x200000</span><span class="sy">)</span><span class="h"> </span><span class="sy">{</span></div><div class="crayon-line" id="crayon-53e88e953eb92-137"><span class="v">$_String</span><span class="h"> </span><span class="sy">.</span><span class="o">=</span><span class="h"> </span><span class="e">chr</span><span class="sy">(</span><span class="cn">0xF0</span><span class="h"> </span><span class="o">|</span><span class="h"> </span><span class="v">$_C</span><span class="o">&gt;&gt;</span><span class="cn">18</span><span class="sy">)</span><span class="sy">;</span><span class="v">$_String</span><span class="h"> </span><span class="sy">.</span><span class="o">=</span><span class="h"> </span><span class="e">chr</span><span class="sy">(</span><span class="cn">0x80</span><span class="h"> </span><span class="o">|</span><span class="h"> </span><span class="v">$_C</span><span class="o">&gt;&gt;</span><span class="cn">12</span><span class="h"> </span><span class="o">&amp;</span><span class="h"> </span><span class="cn">0x3F</span><span class="sy">)</span><span class="sy">;</span><span class="v">$_String</span><span class="h"> </span><span class="sy">.</span><span class="o">=</span><span class="h"> </span><span class="e">chr</span><span class="sy">(</span><span class="cn">0x80</span><span class="h"> </span><span class="o">|</span><span class="h"> </span><span class="v">$_C</span><span class="o">&gt;&gt;</span><span class="cn">6</span><span class="h"> </span><span class="o">&amp;</span><span class="h"> </span><span class="cn">0x3F</span><span class="sy">)</span><span class="sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-138"><span class="v">$_String</span><span class="h"> </span><span class="sy">.</span><span class="o">=</span><span class="h"> </span><span class="e">chr</span><span class="sy">(</span><span class="cn">0x80</span><span class="h"> </span><span class="o">|</span><span class="h"> </span><span class="v">$_C</span><span class="h"> </span><span class="o">&amp;</span><span class="h"> </span><span class="cn">0x3F</span><span class="sy">)</span><span class="sy">;</span></div><div class="crayon-line" id="crayon-53e88e953eb92-139"><span class="sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-140"><span class="k ">return</span><span class="h"> </span><span class="e">iconv</span><span class="sy">(</span><span class="s">'UTF-8'</span><span class="sy">,</span><span class="h"> </span><span class="s">'GB2312//IGNORE'</span><span class="sy">,</span><span class="h"> </span><span class="v">$_C</span><span class="sy">)</span><span class="sy">;</span></div><div class="crayon-line" id="crayon-53e88e953eb92-141"><span class="sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-142">&nbsp;</div><div class="crayon-line" id="crayon-53e88e953eb92-143"><span class="t">function</span><span class="h"> </span><span class="e">_Array_Combine</span><span class="sy">(</span><span class="v">$_Arr1</span><span class="sy">,</span><span class="h"> </span><span class="v">$_Arr2</span><span class="sy">)</span><span class="h">&nbsp;&nbsp; </span><span class="sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-144"><span class="st">for</span><span class="sy">(</span><span class="v">$i</span><span class="o">=</span><span class="cn">0</span><span class="sy">;</span><span class="h"> </span><span class="v">$i</span><span class="o">&lt;</span><span class="e">count</span><span class="sy">(</span><span class="v">$_Arr1</span><span class="sy">)</span><span class="sy">;</span><span class="h"> </span><span class="v">$i</span><span class="o">++</span><span class="sy">)</span></div><div class="crayon-line" id="crayon-53e88e953eb92-145"><span class="v">$_Res</span><span class="sy">[</span><span class="v">$_Arr1</span><span class="sy">[</span><span class="v">$i</span><span class="sy">]</span><span class="sy">]</span><span class="h"> </span><span class="o">=</span><span class="h"> </span><span class="v">$_Arr2</span><span class="sy">[</span><span class="v">$i</span><span class="sy">]</span><span class="sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-146"><span class="k ">return</span><span class="h"> </span><span class="v">$_Res</span><span class="sy">;</span></div><div class="crayon-line" id="crayon-53e88e953eb92-147"><span class="sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-148">&nbsp;</div><div class="crayon-line" id="crayon-53e88e953eb92-149"><span class="c">//Pinyin($str,true,1))</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-150"><span class="k ">print</span><span class="h"> </span><span class="e">str_repeat</span><span class="sy">(</span><span class="s">" "</span><span class="sy">,</span><span class="h"> </span><span class="cn">4096</span><span class="sy">)</span><span class="sy">;</span></div><div class="crayon-line" id="crayon-53e88e953eb92-151"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="v">$sql</span><span class="h"> </span><span class="o">=</span><span class="h"> </span><span class="s">"select `id`,`$ziduan` from `$table` where 1"</span><span class="sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-152"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="v">$query</span><span class="h"> </span><span class="o">=</span><span class="h"> </span><span class="e">mysql_query</span><span class="sy">(</span><span class="v">$sql</span><span class="sy">)</span><span class="sy">;</span></div><div class="crayon-line" id="crayon-53e88e953eb92-153"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="st">while</span><span class="sy">(</span><span class="v">$rs</span><span class="o">=</span><span class="e">mysql_fetch_array</span><span class="sy">(</span><span class="v">$query</span><span class="sy">)</span><span class="sy">)</span><span class="sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-154"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="v">$id</span><span class="h"> </span><span class="o">=</span><span class="h"> </span><span class="v">$rs</span><span class="sy">[</span><span class="s">'id'</span><span class="sy">]</span><span class="sy">;</span></div><div class="crayon-line" id="crayon-53e88e953eb92-155"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="k ">echo</span><span class="h"> </span><span class="v">$id</span><span class="sy">.</span><span class="s">'&amp;nbsp;&amp;nbsp;'</span><span class="sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-156"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="v">$content</span><span class="h"> </span><span class="o">=</span><span class="h"> </span><span class="v">$rs</span><span class="sy">[</span><span class="v">$ziduan</span><span class="sy">]</span><span class="sy">;</span></div><div class="crayon-line" id="crayon-53e88e953eb92-157"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="e">preg_match_all</span><span class="sy">(</span><span class="s">'/&lt;img.+src=\"\/upload\/images\/?(.+\.(jpg|gif|bmp|bnp|png))\"?.+&gt;/i'</span><span class="sy">,</span><span class="v">$content</span><span class="sy">,</span><span class="v">$match</span><span class="sy">)</span><span class="sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-158"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="st">if</span><span class="sy">(</span><span class="v">$match</span><span class="sy">)</span><span class="sy">{</span></div><div class="crayon-line" id="crayon-53e88e953eb92-159"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="st">foreach</span><span class="sy">(</span><span class="v">$match</span><span class="sy">[</span><span class="cn">1</span><span class="sy">]</span><span class="h"> </span><span class="st">as</span><span class="h"> </span><span class="v">$key</span><span class="o">=</span><span class="o">&gt;</span><span class="v">$val</span><span class="sy">)</span><span class="sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-160"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="e">preg_match</span><span class="sy">(</span><span class="s">"/[\x{4e00}-\x{9fa5}]/u"</span><span class="sy">,</span><span class="v">$val</span><span class="sy">,</span><span class="v">$a</span><span class="sy">)</span><span class="sy">;</span></div><div class="crayon-line" id="crayon-53e88e953eb92-161"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="st">if</span><span class="sy">(</span><span class="sy">@</span><span class="v">$a</span><span class="sy">[</span><span class="s">'0'</span><span class="sy">]</span><span class="sy">)</span><span class="sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-162"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="v">$pinyin</span><span class="h"> </span><span class="o">=</span><span class="h"> </span><span class="e">Pinyin</span><span class="sy">(</span><span class="v">$val</span><span class="sy">,</span><span class="t">true</span><span class="sy">,</span><span class="cn">1</span><span class="sy">)</span><span class="sy">;</span></div><div class="crayon-line" id="crayon-53e88e953eb92-163"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="v">$f</span><span class="h">&nbsp;&nbsp; </span><span class="o">=</span><span class="h"> </span><span class="e">iconv</span><span class="sy">(</span><span class="s">"UTF-8"</span><span class="sy">,</span><span class="s">"gb2312"</span><span class="sy">,</span><span class="v">$val</span><span class="sy">)</span><span class="sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-164"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="v">$file</span><span class="h"> </span><span class="o">=</span><span class="h"> </span><span class="s">'upload/images/'</span><span class="sy">.</span><span class="v">$f</span><span class="sy">;</span></div><div class="crayon-line" id="crayon-53e88e953eb92-165"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="st">if</span><span class="sy">(</span><span class="e">is_file</span><span class="sy">(</span><span class="v">$file</span><span class="sy">)</span><span class="sy">)</span><span class="sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-166"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="st">if</span><span class="sy">(</span><span class="o">!</span><span class="e">rename</span><span class="sy">(</span><span class="s">'upload/images/'</span><span class="sy">.</span><span class="v">$f</span><span class="sy">,</span><span class="s">'upload/images/'</span><span class="sy">.</span><span class="v">$pinyin</span><span class="sy">)</span><span class="sy">)</span><span class="sy">{</span></div><div class="crayon-line" id="crayon-53e88e953eb92-167"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="k ">echo</span><span class="h"> </span><span class="s">'修改《'</span><span class="sy">.</span><span class="v">$val</span><span class="sy">.</span><span class="s">'》-&gt;'</span><span class="sy">.</span><span class="v">$pinyin</span><span class="sy">.</span><span class="s">' 失败&amp;nbsp;&amp;nbsp;结束操作，不影响上面的数据'</span><span class="sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-168"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="k ">exit</span><span class="sy">;</span></div><div class="crayon-line" id="crayon-53e88e953eb92-169"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-170"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="sy">}</span><span class="st">else</span><span class="sy">{</span></div><div class="crayon-line" id="crayon-53e88e953eb92-171"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="k ">echo</span><span class="h"> </span><span class="s">'文件中没找到《'</span><span class="sy">.</span><span class="v">$val</span><span class="sy">.</span><span class="s">'》这个图片&amp;nbsp;&amp;nbsp;'</span><span class="sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-172"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="sy">}</span></div><div class="crayon-line" id="crayon-53e88e953eb92-173">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-174"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="k ">echo</span><span class="h"> </span><span class="s">'数据中&lt;'</span><span class="sy">.</span><span class="v">$val</span><span class="sy">.</span><span class="s">'-&gt;'</span><span class="sy">.</span><span class="v">$pinyin</span><span class="sy">.</span><span class="s">'&gt;成功&amp;nbsp;&amp;nbsp;'</span><span class="sy">;</span></div><div class="crayon-line" id="crayon-53e88e953eb92-175"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c">//过滤正则中的特殊字符，如果有其他的可以再加</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-176"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="v">$val</span><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="o">=</span><span class="h"> </span><span class="e">str_ireplace</span><span class="sy">(</span><span class="s">'.'</span><span class="sy">,</span><span class="s">'\.'</span><span class="sy">,</span><span class="v">$val</span><span class="sy">)</span><span class="sy">;</span></div><div class="crayon-line" id="crayon-53e88e953eb92-177"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="v">$val</span><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="o">=</span><span class="h"> </span><span class="e">str_ireplace</span><span class="sy">(</span><span class="s">'('</span><span class="sy">,</span><span class="s">'\('</span><span class="sy">,</span><span class="v">$val</span><span class="sy">)</span><span class="sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-178"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="v">$val</span><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="o">=</span><span class="h"> </span><span class="e">str_ireplace</span><span class="sy">(</span><span class="s">')'</span><span class="sy">,</span><span class="s">'\)'</span><span class="sy">,</span><span class="v">$val</span><span class="sy">)</span><span class="sy">;</span></div><div class="crayon-line" id="crayon-53e88e953eb92-179">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-180"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="v">$content</span><span class="h"> </span><span class="o">=</span><span class="h"> </span><span class="e">preg_replace</span><span class="sy">(</span><span class="s">'|'</span><span class="sy">.</span><span class="v">$val</span><span class="sy">.</span><span class="s">'|'</span><span class="sy">,</span><span class="s">"$pinyin"</span><span class="sy">,</span><span class="v">$content</span><span class="sy">)</span><span class="sy">;</span></div><div class="crayon-line" id="crayon-53e88e953eb92-181"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="sy">}</span><span class="st">else</span><span class="sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-182"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="k ">echo</span><span class="h"> </span><span class="v">$val</span><span class="sy">.</span><span class="s">'-&gt;不转化&amp;nbsp;&amp;nbsp;'</span><span class="sy">;</span></div><div class="crayon-line" id="crayon-53e88e953eb92-183"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-184"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="sy">}</span></div><div class="crayon-line" id="crayon-53e88e953eb92-185"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="v">$content</span><span class="h"> </span><span class="o">=</span><span class="h"> </span><span class="e">addslashes</span><span class="sy">(</span><span class="v">$content</span><span class="sy">)</span><span class="sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-186"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="v">$sql2</span><span class="h"> </span><span class="o">=</span><span class="h"> </span><span class="s">"update `$table` set `$ziduan` = '$content' where `id` = '$id'"</span><span class="sy">;</span></div><div class="crayon-line" id="crayon-53e88e953eb92-187"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="v">$query2</span><span class="h"> </span><span class="o">=</span><span class="h"> </span><span class="e">mysql_query</span><span class="sy">(</span><span class="v">$sql2</span><span class="sy">)</span><span class="sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-188"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="st">if</span><span class="sy">(</span><span class="v">$query2</span><span class="sy">)</span><span class="sy">{</span></div><div class="crayon-line" id="crayon-53e88e953eb92-189"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="k ">echo</span><span class="h"> </span><span class="v">$id</span><span class="sy">.</span><span class="s">'-&gt;数据更新成功！'</span><span class="sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-190"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="sy">}</span><span class="st">else</span><span class="sy">{</span></div><div class="crayon-line" id="crayon-53e88e953eb92-191"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="k ">echo</span><span class="h"> </span><span class="v">$id</span><span class="sy">.</span><span class="s">'-&gt;数据更新失败！结束操作，不影响前面操作！'</span><span class="sy">;</span><span class="k ">exit</span><span class="sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-192"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="sy">}</span></div><div class="crayon-line" id="crayon-53e88e953eb92-193"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="sy">}</span><span class="st">else</span><span class="sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-194"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="k ">echo</span><span class="h"> </span><span class="s">'没有图片&amp;nbsp;&amp;nbsp;'</span><span class="sy">;</span></div><div class="crayon-line" id="crayon-53e88e953eb92-195"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-196"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="k ">echo</span><span class="h"> </span><span class="s">'&lt;br /&gt;'</span><span class="sy">;</span></div><div class="crayon-line" id="crayon-53e88e953eb92-197"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="e">ob_flush</span><span class="sy">(</span><span class="sy">)</span><span class="sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-198"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="e">flush</span><span class="sy">(</span><span class="sy">)</span><span class="sy">;</span></div><div class="crayon-line" id="crayon-53e88e953eb92-199"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-200"><span class="h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="k ">echo</span><span class="h"> </span><span class="s">'完成！&lt;a href="ceshi.php?ziduan='</span><span class="sy">.</span><span class="v">$ziduan</span><span class="sy">.</span><span class="s">'&amp;table='</span><span class="sy">.</span><span class="v">$table</span><span class="sy">.</span><span class="s">'" target="_blank"&gt;测试&lt;/a&gt;'</span><span class="sy">;</span></div><div class="crayon-line" id="crayon-53e88e953eb92-201"><span class="sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-202"><span class="ta">?&gt;</span></div><div class="crayon-line" id="crayon-53e88e953eb92-203"><span class="o">&lt;</span><span class="o">/</span><span class="i">form</span><span class="o">&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-53e88e953eb92-204"><span class="o">&lt;</span><span class="o">/</span><span class="i">body</span><span class="o">&gt;</span></div><div class="crayon-line" id="crayon-53e88e953eb92-205"><span class="o">&lt;</span><span class="o">/</span><span class="i">html</span><span class="o">&gt;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0593 seconds] -->
<p>这段代码是一个完整的功能，配置好链接自己的数据库，然后将这个文件放在可以读取到图片文件的位置，访问即可，访问后，会让你填写要替换的数据表和字段，这个程序会先判断字段中是否有中文图片路径，如果有，就会将这个图片路径转化为中文，并且会将图片进行重命名，如果找不到图片，他会仅改数据库的图片路径，然后你可以在上传一个对应的图片。</p>
<p>要注意的是，这个程序肯定是要在windows的服务器下使用，可以是你自己本地的程序，将数据库替换了之后，再将重命名后的图片都传上服务器即可。经使用发现还是可以的，虽然有些粗糙，但是我写这个仅仅是为了实现这样一个目的而已，毕竟这样的功能可能也不长用到。但是这个例子可以让我们联想到实现一些其他的功能。</p>
<p>本文链接：<a title="自己写了一个批量将数据库字段中的中文图片转化为拼音字母图片路径" href="http://www.521php.com/archives/1066/" target="_blank">http://www.521php.com/archives/1066/</a></p>
                        <p style="color:#17750A;"><b>程序本天成，妙手偶得之！</b></p>
                         <p>转载请注明：<a href="http://www.521php.com/archives/1066/" title="自己写的批量将字段中的中文图片路径转化为拼音路径" target="_blank">http://www.521php.com/archives/1066/</a></p>
                        </div>
                  </div><!--toolBar-->
                    <div class="toolBar toolBarTwo">
                    	<UL>
                            <li class="mrinc2 tags2">Tags:<a href="http://www.521php.com/archives/tag/php/" rel="tag">php</a>,<a href="http://www.521php.com/archives/tag/imagemake/" rel="tag">图片处理</a>,<a href="http://www.521php.com/archives/tag/zongjie/" rel="tag">总结</a>,<a href="http://www.521php.com/archives/tag/wenjian/" rel="tag">文件</a></li>
                            <LI class="mrinc2 share_r" onmouseover=share_more(1066,this);><A href="javascript:;">分享到...</A> </LI>
                        </UL>
                    </div>
                    <SCRIPT>postArray[1066]=[];postArray[1066][0]="自己写的批量将字段中的中文图片路径转化为拼音路径";postArray[1066][1]="http://www.521php.com/archives/1066/";postArray[1066][2]="";postArray[1066][3]="http://www.521php.com/wp-content/themes/zeke/img/default.gif";</SCRIPT>
           		</div>
                <div class="content_t_bot"><!--样式尾部--></div>
                </div>
            <div class="navigation">
				<p class="navNew"><a href="http://www.521php.com/archives/1075/" rel="next">php实现智能分词</a></p>
				<p class="navOld"><a href="http://www.521php.com/archives/1062/" rel="prev">帝国cms静态文章实现文章的点击统计和实时展示</a></p>
	    </div>
           
           <div class="content_text">
               <div class="content_t_top"></div>
               <div class="content_t_main"> <div class="ujian-hook"></div></div>
	       <div class="content_t_bot"><!--样式尾部--></div>
	   </div>
	   <div class="content_text">
               <div class="content_t_top"></div>
               <div class="content_t_main">
               <div class="xgwz">
	       <div>相关文章</div>
			<li><span class="xtitle"><a href="http://www.521php.com/archives/1393/" rel="bookmark" title="PHP漏洞全解(一)-PHP网站的安全性问题">PHP漏洞全解(一)-PHP网站的安全性问题</a></span> <span class="xtag">2013-08-07 <a href="http://www.521php.com/archives/category/team/" title="查看 博采众长 中的全部文章" rel="category tag">博采众长</a>/<a href="http://www.521php.com/archives/category/safe/" title="查看 安全 中的全部文章" rel="category tag">安全</a>/<a href="http://www.521php.com/archives/category/lovephp/" title="查看 我爱PHP 中的全部文章" rel="category tag">我爱PHP</a>/<a href="http://www.521php.com/archives/category/tj/" title="查看 推荐文章 中的全部文章" rel="category tag">推荐文章</a></span></li>
<li><span class="xtitle"><a href="http://www.521php.com/archives/367/" rel="bookmark" title="php生成快捷方式！">php生成快捷方式！</a></span> <span class="xtag">2012-08-30 <a href="http://www.521php.com/archives/category/team/" title="查看 博采众长 中的全部文章" rel="category tag">博采众长</a>/<a href="http://www.521php.com/archives/category/gongneng/" title="查看 小功能 中的全部文章" rel="category tag">小功能</a>/<a href="http://www.521php.com/archives/category/lovephp/" title="查看 我爱PHP 中的全部文章" rel="category tag">我爱PHP</a></span></li>
<li><span class="xtitle"><a href="http://www.521php.com/archives/149/" rel="bookmark" title="php获取用户的真实ip">php获取用户的真实ip</a></span> <span class="xtag">2012-07-06 <a href="http://www.521php.com/archives/category/lovephp/" title="查看 我爱PHP 中的全部文章" rel="category tag">我爱PHP</a></span></li>
<li><span class="xtitle"><a href="http://www.521php.com/archives/262/" rel="bookmark" title="7月27日工作总结">7月27日工作总结</a></span> <span class="xtag">2012-07-27 <a href="http://www.521php.com/archives/category/zong/" title="查看 总结 中的全部文章" rel="category tag">总结</a></span></li>
<li><span class="xtitle"><a href="http://www.521php.com/archives/783/" rel="bookmark" title="2012年11月30日总结">2012年11月30日总结</a></span> <span class="xtag">2012-11-30 <a href="http://www.521php.com/archives/category/zong/" title="查看 总结 中的全部文章" rel="category tag">总结</a></span></li>
<li><span class="xtitle"><a href="http://www.521php.com/archives/502/" rel="bookmark" title="php清除文章样式 css、js、html样式">php清除文章样式 css、js、html样式</a></span> <span class="xtag">2012-09-18 <a href="http://www.521php.com/archives/category/team/" title="查看 博采众长 中的全部文章" rel="category tag">博采众长</a>/<a href="http://www.521php.com/archives/category/lovephp/" title="查看 我爱PHP 中的全部文章" rel="category tag">我爱PHP</a></span></li>
<li><span class="xtitle"><a href="http://www.521php.com/archives/1243/" rel="bookmark" title="真正意义上的过滤多余换行符仅留一行的php正则表达式">真正意义上的过滤多余换行符仅留一行的php正则表达式</a></span> <span class="xtag">2013-04-27 <a href="http://www.521php.com/archives/category/gongneng/" title="查看 小功能 中的全部文章" rel="category tag">小功能</a>/<a href="http://www.521php.com/archives/category/lovephp/" title="查看 我爱PHP 中的全部文章" rel="category tag">我爱PHP</a>/<a href="http://www.521php.com/archives/category/tj/" title="查看 推荐文章 中的全部文章" rel="category tag">推荐文章</a></span></li>
<li><span class="xtitle"><a href="http://www.521php.com/archives/483/" rel="bookmark" title="关于博客建设的一些小建议">关于博客建设的一些小建议</a></span> <span class="xtag">2012-09-16 <a href="http://www.521php.com/archives/category/zong/" title="查看 总结 中的全部文章" rel="category tag">总结</a>/<a href="http://www.521php.com/archives/category/else/" title="查看 杂谈 中的全部文章" rel="category tag">杂谈</a></span></li>
<li><span class="xtitle"><a href="http://www.521php.com/archives/120/" rel="bookmark" title="自动截取图片一部分(一像素用于平铺)">自动截取图片一部分(一像素用于平铺)</a></span> <span class="xtag">2012-07-04 <a href="http://www.521php.com/archives/category/lovephp/" title="查看 我爱PHP 中的全部文章" rel="category tag">我爱PHP</a>/<a href="http://www.521php.com/archives/category/tj/" title="查看 推荐文章 中的全部文章" rel="category tag">推荐文章</a></span></li>
<li><span class="xtitle"><a href="http://www.521php.com/archives/333/" rel="bookmark" title="2012年8月21日总结">2012年8月21日总结</a></span> <span class="xtag">2012-08-21 <a href="http://www.521php.com/archives/category/zong/" title="查看 总结 中的全部文章" rel="category tag">总结</a></span></li>
</div>
           <div class="content_t_bot"></div>
	   </div>
<!-- You can start editing here. -->
<div id="comment_body">
			<!-- If comments are open, but there are no comments. -->
	 		</div>
<div class="navigation_comments">
		<div class="pagination"></div>
</div>
  <div id="respond">
            	<div class="excerpt_top"></div>
                <div class="excerpt_main">
<h3 class="givetext">发表评论</h3>
<div class="cancel-comment-reply">
		<!--<div id="real-avatar">
			<img alt='' src='http://0.gravatar.com/avatar/?d=http://www.521php.com/wp-content/themes/zeke/MRimg/gravatar.png&amp;s=40' class='avatar avatar-40 photo avatar-default' height='40' width='40' />	</div>-->
			<small><a rel="nofollow" id="cancel-comment-reply-link" href="/archives/1066/#respond" style="display:none;">点击这里取消回复。</a></small>
		</div>
<form action="http://www.521php.com/wp-comments-post.php" method="post" id="commentform">
<div class="form_box">
<div class="form_infobody">
 	<div id="comment-author-info" class="form_info">
		<div class="author">昵称：<input type="text" class="textfield" name="author" id="author" tabindex="1" value=""></div>
        <p style="height:15px"></p>
		<div class="email">邮箱：<input type="text" class="textfield" name="email" id="email" tabindex="2" value=""></div>
        <p style="height:15px"></p>
		<div class="url">网址：<input type="text" class="textfield" name="url" id="url" tabindex="3" value=""></div>
    </div>
</div>
    <div class="form_text"><textarea name="comment" id="comment" class="textarea"  tabindex="4"  onfocus="if (this.value == 'Make Comments on this Article') {this.value = '';}" onblur="if (this.value == '') {this.value = 'Make Comments on this Article';}">Make Comments on this Article</textarea></div>
</div>
<p></p>
<div class="ajax_box" id="comment_jstext">eg.博客主题调用的是Gravatar头像,你可以通过邮箱注册获得头像.</div>
<div class="form_btn">
<div class="submit_box"><div class="aLeft"><input class="submit" name="submit" type="submit" id="submit" tabindex="5" value="提交留言"><input class="reset" name="reset" type="reset" id="reset" tabindex="6" value="重写"></div><div class="aRight"><input type="checkbox" name="comment_mail_notify" id="comment_mail_notify" value="comment_mail_notify" checked="checked" style="margin-left:0px;" /><label for="comment_mail_notify" style="display: inline;">有人回复时邮件通知我</label> / 快捷键：Ctrl+Enter</label><input type='hidden' name='comment_post_ID' value='1066' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
</div></div>
</div>
<script type="text/javascript">	//Crel+Enter
			$(document).keypress(function(e){
				if(e.ctrlKey && e.which == 13 || e.which == 10) { 
					$(".submit").click();
					document.body.focus();
				} else if (e.shiftKey && e.which==13 || e.which == 10) {
					$(".submit").click();
				}          
			})
		</script>
</form>
                </div>
                <div class="excerpt_bot"></div>
            </div>
</div>
        </div>
        <div id="sidebar">
			<!--自我介绍-->
			<div class="sidebar_body">
           	  <div class="sidebar_b_top"><!--样式头部--></div>
                <div class="sidebar_b_main">
                	<div class="sid_ify">
                    	<div class="sid_ify_bg">
                            <H3>本站公告</H3>
                        </div>
                    </div>
                    <div class="sid_body"><div><img src="http://www.521php.com/wp-content/themes/zeke/fly.gif" width="200" height="180" /></div>
					<p style="text-align:left; font-size:12px;">程序本天成，妙手偶得之！
<br />趣赔集团刚成立，如果您想投资可直接转入支付宝，和我联系<br /><script>document.write('<a href="http://www.521php.com/payme/" target="_blank"><img src="/wp-content/themes/zeke/btn-index.png" height="40" /></a>');</script> <img src="/wp-content/themes/zeke/gx.gif" height="40" />			
					</p>
                    </div>
                </div>
                <div class="sidebar_b_bot"><!--样式尾部--></div>
            </div>
			<!--日志分类-->

        	<div class="sidebar_body">
           	  <div class="sidebar_b_top"><!--样式头部--></div>
                <div class="sidebar_b_main">
                	<div class="sid_ify">
                    	<div class="sid_ify_bg">
                            <H3>文章分类</H3>
                        </div>
                    </div>
                    <div class="sid_body">
                    	<ul class="sid_lm">
                        		<li class="cat-item cat-item-61"><a href="http://www.521php.com/archives/category/linux/" title="linux服务器">Linux</a> (16)
</li>
	<li class="cat-item cat-item-15"><a href="http://www.521php.com/archives/category/wordpress/" title="在其位，谋其政！">WordPress</a> (8)
</li>
	<li class="cat-item cat-item-41"><a href="http://www.521php.com/archives/category/team/" title="取长补短，好的学习习惯可以让我们少走很多弯路！">博采众长</a> (68)
</li>
	<li class="cat-item cat-item-71"><a href="http://www.521php.com/archives/category/safe/" title="查看 安全 下的所有文章">安全</a> (7)
</li>
	<li class="cat-item cat-item-52"><a href="http://www.521php.com/archives/category/gongneng/" title="查看 小功能 下的所有文章">小功能</a> (55)
</li>
	<li class="cat-item cat-item-12"><a href="http://www.521php.com/archives/category/zong/" title="合理的总结我们的工作，工作就是学习！">总结</a> (62)
</li>
	<li class="cat-item cat-item-10"><a href="http://www.521php.com/archives/category/lovephp/" title="我们共同的php技术博客！总结php知识，交流php编程心得！">我爱PHP</a> (127)
</li>
	<li class="cat-item cat-item-70"><a href="http://www.521php.com/archives/category/tj/" title="查看 推荐文章 下的所有文章">推荐文章</a> (71)
</li>
	<li class="cat-item cat-item-46"><a href="http://www.521php.com/archives/category/else/" title="读书心得，视频感悟，社会舆论，杂七杂八">杂谈</a> (31)
</li>
	<li class="cat-item cat-item-4"><a href="http://www.521php.com/archives/category/cclog/" title="我们不知道人生到底有多长，但是我知道当我们回首看这些的时候一定会深深的感动！">随笔</a> (33)
</li>
                        </ul>
                    </div>
                </div>
                <div class="sidebar_b_bot"><!--样式尾部--></div>
            </div>

	    			<div class="sidebar_body">
           	  <div class="sidebar_b_top"><!--样式头部--></div>
                <div class="sidebar_b_main">
                	<div class="sid_ify">
                    	<div class="sid_ify_bg">
                            <H3><a href="/tg/" title="进入本站推广">进入本站推广</a></H3>
                        </div>
                    </div>
                    <div class="sid_body" align="center">
<iframe name="alimamaifrm" frameborder="0" marginheight="0" marginwidth="0" border="0" scrolling="no" width="210" height="200" src="http://www.taobao.com/go/app/tbk_app/chongzhi_210_200.php?pid=mm_30958902_3426892_13314114&page=chongzhi_210_200.php&size_w=210&size_h=200&stru_phone=1&stru_game=1&stru_travel=1" ></iframe>
                    </div>
                </div>
                <div class="sidebar_b_bot"><!--样式尾部--></div>
            </div>
<!--本站接口-->
            <div class="sidebar_body">
           	  <div class="sidebar_b_top"><!--样式头部--></div>
                <div class="sidebar_b_main">
                	<div class="sid_ify">
                    	<div class="sid_ify_bg">
                            <H3>本站接口</H3>
                        </div>
                    </div>
                    <div class="sid_body">
                    	<ul class="sid_link_text">
                        <li><a href="http://www.521php.com/api/pinyin.php" title="php将中文转化为拼音接口" target="_blank">php将中文转化为拼音接口</a></li>
<li><a href="http://www.521php.com/api/ip.php" title="php获取ip归属地接口" target="_blank">php获取ip归属地接口</a></li>
<li><a href="http://www.521php.com/archives/913/" title="百度谷歌一起搜接口" target="_blank">百度谷歌一起搜接口</a></li>
<li><a href="http://www.521php.com/api/qr/" title="二维码在线生成工具" target="_blank">二维码在线生成工具</a></li>
<li><a href="http://www.521php.com/api/fenci/" title="php智能分词功能" target="_blank">php智能分词功能</a></li>
<li><a href="http://www.521php.com/api/fav/" title="获取指定网站favicon.ico图标接口" target="_blank">获取指定网站favicon.ico图标接口</a></li>
<li><a href="http://www.521php.com/api/pr/" title="权重,pr,alexa及收录情况查询接口" target="_blank">权重,pr,alexa及收录情况查询接口</a></li>
<li><a href="http://www.521php.com/api/sl/" title="php扫雷小游戏" target="_blank">php扫雷小游戏</a></li>
                      </ul>
                    </div>
                </div>
                <div class="sidebar_b_bot"><!--样式尾部--></div>
            </div>
            <!--本站接口-->
            <!--博客归档OR最新文章OR随机日志-->
            <div class="sidebar_body">
           	  <div class="sidebar_b_top"><!--样式头部--></div>
                <div class="sidebar_b_main">
                	<div class="sid_ify">
                    	<div class="sid_ify_bg">
                            <H3><a href="/archives/category/tj/" title="推荐文章">推荐文章</a></H3>
                        </div>
                    </div>
                    <div class="sid_body">
                    	<ul class="sid_Archives sid_link_text">
<li><a href="http://www.521php.com/archives/1728/" title="转-技术人员如何参与产品设计讨论：激活那一潭死水" rel="bookmark">
转-技术人员如何参与产品设计讨论：激活那一潭死水</a></li>
<li><a href="http://www.521php.com/archives/1253/" title="外链自助上线了" rel="bookmark">
外链自助上线了</a></li>
<li><a href="http://www.521php.com/archives/996/" title="php捕捉各大搜索引擎的蜘蛛、爬虫记录" rel="bookmark">
php捕捉各大搜索引擎的蜘蛛、爬虫记录</a></li>
<li><a href="http://www.521php.com/archives/1365/" title="可逆的php字符加密算法" rel="bookmark">
可逆的php字符加密算法</a></li>
<li><a href="http://www.521php.com/archives/913/" title="本站百度和谷歌一起搜接口！(推荐)" rel="bookmark">
本站百度和谷歌一起搜接口！(推荐)</a></li>
<li><a href="http://www.521php.com/archives/1369/" title="php 自定义json_encode和json_decode函数" rel="bookmark">
php 自定义json_encode和json_decode函数</a></li>
<li><a href="http://www.521php.com/archives/682/" title="导医系统开发总结之自己的编程心得" rel="bookmark">
导医系统开发总结之自己的编程心得</a></li>
<li><a href="http://www.521php.com/archives/1203/" title="纯php代码实现伪静态的方法" rel="bookmark">
纯php代码实现伪静态的方法</a></li>
<li><a href="http://www.521php.com/archives/1187/" title="织梦内置标签小优化之四—dede:channelartlist标签" rel="bookmark">
织梦内置标签小优化之四—dede:channelartlist标签</a></li>
<li><a href="http://www.521php.com/archives/1172/" title="织梦内置标签小优化之二——dede:channel标签优化" rel="bookmark">
织梦内置标签小优化之二——dede:channel标签优化</a></li>
</ul>
                    </div>
                </div>
                <div class="sidebar_b_bot"><!--样式尾部--></div>
            </div>
			<div class="sidebar_body">
           	  <div class="sidebar_b_top"><!--样式头部--></div>
                <div class="sidebar_b_main">
                	<div class="sid_ify">
                    	<div class="sid_ify_bg">
                            <H3><a href="/archives/category/lovephp/" title="技术心得">学习之所得</a></H3>
                        </div>
                    </div>
                    <div class="sid_body">
                    	<ul class="sid_Archives sid_link_text">
<li><a href="http://www.521php.com/archives/1752/" title="php脚本实现redis数据库指定库号迁移" rel="bookmark">
php脚本实现redis数据库指定库号迁移</a></li>
<li><a href="http://www.521php.com/archives/1746/" title="php批量去除指定目录的bom头" rel="bookmark">
php批量去除指定目录的bom头</a></li>
<li><a href="http://www.521php.com/archives/1739/" title="一键式虚拟主机搭建shell脚本" rel="bookmark">
一键式虚拟主机搭建shell脚本</a></li>
<li><a href="http://www.521php.com/archives/1735/" title="shell脚本做nginx日志分析工具" rel="bookmark">
shell脚本做nginx日志分析工具</a></li>
<li><a href="http://www.521php.com/archives/1722/" title="MySql避免全表扫描" rel="bookmark">
MySql避免全表扫描</a></li>
<li><a href="http://www.521php.com/archives/1716/" title="linux下nginx,php运行用户和ftp用户权限分配" rel="bookmark">
linux下nginx,php运行用户和ftp用户权限分配</a></li>
<li><a href="http://www.521php.com/archives/1708/" title="php的pcntl_fork多进程小解" rel="bookmark">
php的pcntl_fork多进程小解</a></li>
<li><a href="http://www.521php.com/archives/1703/" title="鸟枪换大炮了" rel="bookmark">
鸟枪换大炮了</a></li>
<li><a href="http://www.521php.com/archives/1697/" title="两种方式实现js，ajax的跨域" rel="bookmark">
两种方式实现js，ajax的跨域</a></li>
<li><a href="http://www.521php.com/archives/1694/" title="redis小解及centos下php-redis扩展安装" rel="bookmark">
redis小解及centos下php-redis扩展安装</a></li>
</ul>
                    </div>
                </div>
                <div class="sidebar_b_bot"><!--样式尾部--></div>
            </div>
			
		<div class="sidebar_body">
           	  <div class="sidebar_b_top"><!--样式头部--></div>
                <div class="sidebar_b_main">
                	<div class="sid_ify">
                    	<div class="sid_ify_bg">
                            <H3><a href="/archives/category/cclog/" title="日志">生活之所感</a></H3>
                        </div>
                    </div>
                    <div class="sid_body">
                    	<ul class="sid_Archives sid_link_text">
<li><a href="http://www.521php.com/archives/1756/" title="4年了，给您汇报一下" rel="bookmark">
4年了，给您汇报一下</a></li>
<li><a href="http://www.521php.com/archives/1662/" title="近期的一点小感悟" rel="bookmark">
近期的一点小感悟</a></li>
<li><a href="http://www.521php.com/archives/1654/" title="不误正业" rel="bookmark">
不误正业</a></li>
<li><a href="http://www.521php.com/archives/1650/" title="论我的电脑为什么比别人的活的相对长久" rel="bookmark">
论我的电脑为什么比别人的活的相对长久</a></li>
<li><a href="http://www.521php.com/archives/1639/" title="没有正确的标题，只有正确的人" rel="bookmark">
没有正确的标题，只有正确的人</a></li>
<li><a href="http://www.521php.com/archives/1295/" title="阶段性小总结20130525" rel="bookmark">
阶段性小总结20130525</a></li>
<li><a href="http://www.521php.com/archives/1044/" title="职场白领的“攻薪技”" rel="bookmark">
职场白领的“攻薪技”</a></li>
<li><a href="http://www.521php.com/archives/1014/" title="天空海阔，要做最坚强的泡沫" rel="bookmark">
天空海阔，要做最坚强的泡沫</a></li>
<li><a href="http://www.521php.com/archives/985/" title="致师弟师妹的一封信" rel="bookmark">
致师弟师妹的一封信</a></li>
<li><a href="http://www.521php.com/archives/905/" title="2012年12月22日总结" rel="bookmark">
2012年12月22日总结</a></li>
</ul>
                    </div>
                </div>
                <div class="sidebar_b_bot"><!--样式尾部--></div>
            </div>
			<div class="sidebar_body">
           	  <div class="sidebar_b_top"><!--样式头部--></div>
                <div class="sidebar_b_main">
                	<div class="sid_ify">
                    	<div class="sid_ify_bg">
                            <H3><a href="/archives/category/else/" title="杂谈">杂七杂八</a></H3>
                        </div>
                    </div>
                    <div class="sid_body">
                    	<ul class="sid_Archives sid_link_text">
<li><a href="http://www.521php.com/archives/1728/" title="转-技术人员如何参与产品设计讨论：激活那一潭死水" rel="bookmark">
转-技术人员如何参与产品设计讨论：激活那一潭死水</a></li>
<li><a href="http://www.521php.com/archives/1654/" title="不误正业" rel="bookmark">
不误正业</a></li>
<li><a href="http://www.521php.com/archives/1650/" title="论我的电脑为什么比别人的活的相对长久" rel="bookmark">
论我的电脑为什么比别人的活的相对长久</a></li>
<li><a href="http://www.521php.com/archives/1384/" title="永远不要再犯的 5 个编程错误" rel="bookmark">
永远不要再犯的 5 个编程错误</a></li>
<li><a href="http://www.521php.com/archives/1381/" title="关于PHP的十大误解 你中了几个？" rel="bookmark">
关于PHP的十大误解 你中了几个？</a></li>
<li><a href="http://www.521php.com/archives/1270/" title="软件开发者的四大“看家本事”" rel="bookmark">
软件开发者的四大“看家本事”</a></li>
<li><a href="http://www.521php.com/archives/1263/" title="惹恼程序员的十件事" rel="bookmark">
惹恼程序员的十件事</a></li>
<li><a href="http://www.521php.com/archives/1260/" title="IT经验的七个总结" rel="bookmark">
IT经验的七个总结</a></li>
<li><a href="http://www.521php.com/archives/1057/" title="未来的八种人将被社会淘汰!" rel="bookmark">
未来的八种人将被社会淘汰!</a></li>
<li><a href="http://www.521php.com/archives/1044/" title="职场白领的“攻薪技”" rel="bookmark">
职场白领的“攻薪技”</a></li>
</ul>
                    </div>
                </div>
                <div class="sidebar_b_bot"><!--样式尾部--></div>
            </div>			
			 <!--调用标签云-->
			<div class="sidebar_body">
           	  <div class="sidebar_b_top"><!--样式头部--></div>
                <div class="sidebar_b_main">
                	<div class="sid_ify">
                    	<div class="sid_ify_bg">
                            <H3>标签云</H3>
                        </div>
                    </div>
<!--class="sid_body"-->
                    <div id="div1">
					<a href='http://www.521php.com/archives/tag/access/' class='tag-link-53' title='1 个话题' style='font-size: 12pt;'>access</a>
<a href='http://www.521php.com/archives/tag/ajax/' class='tag-link-57' title='7 个话题' style='font-size: 14.666666666667pt;'>ajax</a>
<a href='http://www.521php.com/archives/tag/apache/' class='tag-link-74' title='1 个话题' style='font-size: 12pt;'>apache</a>
<a href='http://www.521php.com/archives/tag/curl/' class='tag-link-63' title='1 个话题' style='font-size: 12pt;'>curl</a>
<a href='http://www.521php.com/archives/tag/dede/' class='tag-link-28' title='14 个话题' style='font-size: 15.911111111111pt;'>dede</a>
<a href='http://www.521php.com/archives/tag/discuz/' class='tag-link-64' title='1 个话题' style='font-size: 12pt;'>discuz</a>
<a href='http://www.521php.com/archives/tag/flash/' class='tag-link-59' title='1 个话题' style='font-size: 12pt;'>flash</a>
<a href='http://www.521php.com/archives/tag/gdku/' class='tag-link-32' title='2 个话题' style='font-size: 12.8pt;'>GD库</a>
<a href='http://www.521php.com/archives/tag/htaccess/' class='tag-link-69' title='1 个话题' style='font-size: 12pt;'>htaccess</a>
<a href='http://www.521php.com/archives/tag/jquery/' class='tag-link-55' title='1 个话题' style='font-size: 12pt;'>jquery</a>
<a href='http://www.521php.com/archives/tag/js/' class='tag-link-44' title='22 个话题' style='font-size: 16.711111111111pt;'>js</a>
<a href='http://www.521php.com/archives/tag/linux/' class='tag-link-61' title='17 个话题' style='font-size: 16.266666666667pt;'>Linux</a>
<a href='http://www.521php.com/archives/tag/mysql/' class='tag-link-79' title='2 个话题' style='font-size: 12.8pt;'>mysql</a>
<a href='http://www.521php.com/archives/tag/nginx/' class='tag-link-75' title='4 个话题' style='font-size: 13.777777777778pt;'>nginx</a>
<a href='http://www.521php.com/archives/tag/node/' class='tag-link-80' title='1 个话题' style='font-size: 12pt;'>node</a>
<a href='http://www.521php.com/archives/tag/php/' class='tag-link-3' title='125 个话题' style='font-size: 20pt;'>php</a>
<a href='http://www.521php.com/archives/tag/redis/' class='tag-link-77' title='3 个话题' style='font-size: 13.333333333333pt;'>redis</a>
<a href='http://www.521php.com/archives/tag/shell/' class='tag-link-81' title='3 个话题' style='font-size: 13.333333333333pt;'>shell</a>
<a href='http://www.521php.com/archives/tag/sql/' class='tag-link-43' title='4 个话题' style='font-size: 13.777777777778pt;'>sql</a>
<a href='http://www.521php.com/archives/tag/thrift/' class='tag-link-76' title='1 个话题' style='font-size: 12pt;'>thrift</a>
<a href='http://www.521php.com/archives/tag/wordpress/' class='tag-link-15' title='12 个话题' style='font-size: 15.6pt;'>WordPress</a>
<a href='http://www.521php.com/archives/tag/wp-postviews/' class='tag-link-20' title='2 个话题' style='font-size: 12.8pt;'>WP-PostViews</a>
<a href='http://www.521php.com/archives/tag/zip/' class='tag-link-56' title='2 个话题' style='font-size: 12.8pt;'>zip</a>
<a href='http://www.521php.com/archives/tag/zookeeper/' class='tag-link-73' title='1 个话题' style='font-size: 12pt;'>zookeeper</a>
<a href='http://www.521php.com/archives/tag/blog/' class='tag-link-51' title='42 个话题' style='font-size: 17.911111111111pt;'>个人博客</a>
<a href='http://www.521php.com/archives/tag/youhua/' class='tag-link-45' title='20 个话题' style='font-size: 16.533333333333pt;'>优化</a>
<a href='http://www.521php.com/archives/tag/hanshu/' class='tag-link-34' title='30 个话题' style='font-size: 17.288888888889pt;'>函数</a>
<a href='http://www.521php.com/archives/tag/fenye/' class='tag-link-11' title='2 个话题' style='font-size: 12.8pt;'>分页</a>
<a href='http://www.521php.com/archives/tag/bieming/' class='tag-link-24' title='2 个话题' style='font-size: 12.8pt;'>别名</a>
<a href='http://www.521php.com/archives/tag/danye/' class='tag-link-27' title='1 个话题' style='font-size: 12pt;'>单页</a>
<a href='http://www.521php.com/archives/tag/imgupload/' class='tag-link-26' title='2 个话题' style='font-size: 12.8pt;'>图片上传</a>
<a href='http://www.521php.com/archives/tag/imagemake/' class='tag-link-33' title='7 个话题' style='font-size: 14.666666666667pt;'>图片处理</a>
<a href='http://www.521php.com/archives/tag/yuming/' class='tag-link-18' title='5 个话题' style='font-size: 14.133333333333pt;'>域名</a>
<a href='http://www.521php.com/archives/tag/wailian/' class='tag-link-25' title='5 个话题' style='font-size: 14.133333333333pt;'>外链</a>
<a href='http://www.521php.com/archives/tag/touxiang/' class='tag-link-14' title='2 个话题' style='font-size: 12.8pt;'>头像</a>
<a href='http://www.521php.com/archives/tag/zifu/' class='tag-link-35' title='12 个话题' style='font-size: 15.6pt;'>字符</a>
<a href='http://www.521php.com/archives/tag/aq/' class='tag-link-72' title='6 个话题' style='font-size: 14.444444444444pt;'>安全</a>
<a href='http://www.521php.com/archives/tag/daohang/' class='tag-link-17' title='2 个话题' style='font-size: 12.8pt;'>导航</a>
<a href='http://www.521php.com/archives/tag/phome/' class='tag-link-67' title='6 个话题' style='font-size: 14.444444444444pt;'>帝国cms</a>
<a href='http://www.521php.com/archives/tag/zongjie/' class='tag-link-40' title='85 个话题' style='font-size: 19.244444444444pt;'>总结</a>
<a href='http://www.521php.com/archives/tag/jiekou/' class='tag-link-31' title='15 个话题' style='font-size: 16pt;'>接口</a>
<a href='http://www.521php.com/archives/tag/shuju/' class='tag-link-54' title='27 个话题' style='font-size: 17.111111111111pt;'>数据处理</a>
<a href='http://www.521php.com/archives/tag/array/' class='tag-link-38' title='2 个话题' style='font-size: 12.8pt;'>数组</a>
<a href='http://www.521php.com/archives/tag/wenjian/' class='tag-link-36' title='18 个话题' style='font-size: 16.355555555556pt;'>文件</a>
<a href='http://www.521php.com/archives/tag/%e6%97%a5%e5%bf%97/' class='tag-link-9' title='21 个话题' style='font-size: 16.622222222222pt;'>日志</a>
<a href='http://www.521php.com/archives/tag/sever/' class='tag-link-62' title='2 个话题' style='font-size: 12.8pt;'>服务器</a>
<a href='http://www.521php.com/archives/tag/zatan/' class='tag-link-47' title='33 个话题' style='font-size: 17.466666666667pt;'>杂谈</a>
<a href='http://www.521php.com/archives/tag/muban/' class='tag-link-29' title='4 个话题' style='font-size: 13.777777777778pt;'>模板</a>
<a href='http://www.521php.com/archives/tag/preg/' class='tag-link-39' title='3 个话题' style='font-size: 13.333333333333pt;'>正则</a>
<a href='http://www.521php.com/archives/tag/liulan/' class='tag-link-22' title='2 个话题' style='font-size: 12.8pt;'>浏览</a>
<a href='http://www.521php.com/archives/tag/game/' class='tag-link-68' title='1 个话题' style='font-size: 12pt;'>游戏</a>
<a href='http://www.521php.com/archives/tag/dianji/' class='tag-link-21' title='3 个话题' style='font-size: 13.333333333333pt;'>点击</a>
<a href='http://www.521php.com/archives/tag/liuyan/' class='tag-link-13' title='2 个话题' style='font-size: 12.8pt;'>留言</a>
<a href='http://www.521php.com/archives/tag/kongjian/' class='tag-link-19' title='1 个话题' style='font-size: 12pt;'>空间</a>
<a href='http://www.521php.com/archives/tag/class/' class='tag-link-49' title='8 个话题' style='font-size: 14.888888888889pt;'>类</a>
<a href='http://www.521php.com/archives/tag/zhimeng/' class='tag-link-30' title='13 个话题' style='font-size: 15.777777777778pt;'>织梦</a>
<a href='http://www.521php.com/archives/tag/tongji/' class='tag-link-37' title='2 个话题' style='font-size: 12.8pt;'>统计</a>
<a href='http://www.521php.com/archives/tag/hyzx/' class='tag-link-60' title='9 个话题' style='font-size: 15.111111111111pt;'>行业资讯</a>
<a href='http://www.521php.com/archives/tag/zhuanzhai/' class='tag-link-58' title='41 个话题' style='font-size: 17.866666666667pt;'>转载</a>
<a href='http://www.521php.com/archives/tag/process/' class='tag-link-78' title='1 个话题' style='font-size: 12pt;'>进程</a>
<a href='http://www.521php.com/archives/tag/email/' class='tag-link-42' title='1 个话题' style='font-size: 12pt;'>邮件</a>
<a href='http://www.521php.com/archives/tag/xianzhibiti/' class='tag-link-23' title='4 个话题' style='font-size: 13.777777777778pt;'>限制标题长度</a>
<a href='http://www.521php.com/archives/tag/oo/' class='tag-link-48' title='2 个话题' style='font-size: 12.8pt;'>面向对象</a>					                    </div>
                </div>
                <div class="sidebar_b_bot"><!--样式尾部--></div>
            </div>
				
            <!--最新留言-->
            <div class="sidebar_body">
           	  <div class="sidebar_b_top"><!--样式头部--></div>
                <div class="sidebar_b_main">
                	<div class="sid_ify">
                    	<div class="sid_ify_bg">
                            <H3><a href="/message/" title="留言板">最新留言</a></H3>
                        </div>
                    </div>
                    <div class="sid_body">
                    	<ul class="sid_recent">

<li><img src='http://www.521php.com/avatar/7dcfae221697844defa96c9d9536bbb8.jpg'/><span class='rc_info'><span class='rc_name'>techweb</span> 评论道：<br /><a href="http://www.521php.com/archives/1752/#comment-8737" title="查看 php脚本实现redis数据库指定库号迁移">执行速度如何?</a></li><div class=clear></div>
<li><img src='http://www.521php.com/avatar/50b2df44915f9ff8bfe2f0a532f60a52.jpg'/><span class='rc_info'><span class='rc_name'>惜乐博客</span> 评论道：<br /><a href="http://www.521php.com/archives/1756/#comment-8736" title="查看 4年了，给您汇报一下">坚持就是胜利~</a></li><div class=clear></div>
<li><img src='http://www.521php.com/avatar/7d7ef830ae846e5c566a328d01bf4c52.jpg'/><span class='rc_info'><span class='rc_name'>格力中央空调</span> 评论道：<br /><a href="http://www.521php.com/archives/1728/#comment-8735" title="查看 转-技术人员如何参与产品设计讨论：激活那一潭死水">分析得细。沟通交流还是很有必要</a></li><div class=clear></div>
<li><img src='http://www.521php.com/avatar/7d7ef830ae846e5c566a328d01bf4c52.jpg'/><span class='rc_info'><span class='rc_name'>格力中央空调</span> 评论道：<br /><a href="http://www.521php.com/archives/1752/#comment-8734" title="查看 php脚本实现redis数据库指定库号迁移">好详细，学习了。。</a></li><div class=clear></div>
<li><img src='http://www.521php.com/avatar/2fec3c5cff0acecd857ee51126e7ec5c.jpg'/><span class='rc_info'><span class='rc_name'>稻花香大米</span> 评论道：<br /><a href="http://www.521php.com/archives/1728/#comment-8731" title="查看 转-技术人员如何参与产品设计讨论：激活那一潭死水">技术人员会更关注细节吧，产品上</a></li><div class=clear></div>
<li><img src='http://www.521php.com/avatar/5366f118dd14b8e82aba3cc707ff2525.jpg'/><span class='rc_info'><span class='rc_name'>php程序员</span> 评论道：<br /><a href="http://www.521php.com/archives/1756/#comment-8728" title="查看 4年了，给您汇报一下">现在什么都没有，哪么就更应该努</a></li><div class=clear></div>
<li><img src='http://www.521php.com/avatar/73131a70bed0ca2cc0d5e5c6d656d274.jpg'/><span class='rc_info'><span class='rc_name'>dolove</span> 评论道：<br /><a href="http://www.521php.com/archives/1039/#comment-8649" title="查看 自己改版的非常好用的php分页类，可支持伪静态">数据库代码引用方法没写。。</a></li><div class=clear></div>
<li><img src='http://www.521php.com/avatar/7b3973ade41a195cfaf37ba35072cc3e.jpg'/><span class='rc_info'><span class='rc_name'>爱转角</span> 评论道：<br /><a href="http://www.521php.com/message/#comment-8647" title="查看 关于我">俺也在学php不过是菜鸟</a></li><div class=clear></div> 
                        </ul>
                    </div>
                </div>
                <div class="sidebar_b_bot"><!--样式尾部--></div>
            </div>
	        <!--小工具-->
            		<div id="archives-2" class="sidebar_body"><div class="sidebar_b_top"><!--样式头部--></div>
                <div class="sidebar_b_main">
                	<div class="sid_ify">
                    	<div class="sid_ify_bg"><h3 class="widget-title">文章归档</h3></div></div>
<div class="sid_body">
		<ul class="sid_link_text">
			<li><a href='http://www.521php.com/archives/date/2014/07/' title='2014 年七月'>2014 年七月</a></li>
	<li><a href='http://www.521php.com/archives/date/2014/06/' title='2014 年六月'>2014 年六月</a></li>
	<li><a href='http://www.521php.com/archives/date/2014/05/' title='2014 年五月'>2014 年五月</a></li>
	<li><a href='http://www.521php.com/archives/date/2014/04/' title='2014 年四月'>2014 年四月</a></li>
	<li><a href='http://www.521php.com/archives/date/2014/03/' title='2014 年三月'>2014 年三月</a></li>
	<li><a href='http://www.521php.com/archives/date/2014/01/' title='2014 年一月'>2014 年一月</a></li>
	<li><a href='http://www.521php.com/archives/date/2013/12/' title='2013 年十二月'>2013 年十二月</a></li>
	<li><a href='http://www.521php.com/archives/date/2013/11/' title='2013 年十一月'>2013 年十一月</a></li>
	<li><a href='http://www.521php.com/archives/date/2013/10/' title='2013 年十月'>2013 年十月</a></li>
	<li><a href='http://www.521php.com/archives/date/2013/08/' title='2013 年八月'>2013 年八月</a></li>
	<li><a href='http://www.521php.com/archives/date/2013/07/' title='2013 年七月'>2013 年七月</a></li>
	<li><a href='http://www.521php.com/archives/date/2013/06/' title='2013 年六月'>2013 年六月</a></li>
	<li><a href='http://www.521php.com/archives/date/2013/05/' title='2013 年五月'>2013 年五月</a></li>
	<li><a href='http://www.521php.com/archives/date/2013/04/' title='2013 年四月'>2013 年四月</a></li>
	<li><a href='http://www.521php.com/archives/date/2013/03/' title='2013 年三月'>2013 年三月</a></li>
	<li><a href='http://www.521php.com/archives/date/2013/02/' title='2013 年二月'>2013 年二月</a></li>
	<li><a href='http://www.521php.com/archives/date/2013/01/' title='2013 年一月'>2013 年一月</a></li>
	<li><a href='http://www.521php.com/archives/date/2012/12/' title='2012 年十二月'>2012 年十二月</a></li>
	<li><a href='http://www.521php.com/archives/date/2012/11/' title='2012 年十一月'>2012 年十一月</a></li>
	<li><a href='http://www.521php.com/archives/date/2012/10/' title='2012 年十月'>2012 年十月</a></li>
	<li><a href='http://www.521php.com/archives/date/2012/09/' title='2012 年九月'>2012 年九月</a></li>
	<li><a href='http://www.521php.com/archives/date/2012/08/' title='2012 年八月'>2012 年八月</a></li>
	<li><a href='http://www.521php.com/archives/date/2012/07/' title='2012 年七月'>2012 年七月</a></li>
	<li><a href='http://www.521php.com/archives/date/2012/06/' title='2012 年六月'>2012 年六月</a></li>
		</ul>
		</div>
<div class="sidebar_b_bot"><!--样式尾部--></div></div>		<!-- #secondary .widget-area -->
                </div>        <div class="clear"></div>
    </div>
<!--中间内容End-->
</div>
<!--尾部-->
    <div id="footer">

    	<div id="footerbar">

        <p><span>Copy right © 2012<strong><a href="http://www.521php.com">张存超php个人博客</a></strong> 京ICP备14032588号-1</span></p>

        <p><span>Powered by WordPres | <a href="http://www.521php.com/sitemap.html" target="_blank">百度地图</a> | <a href="http://www.521php.com/sitemap_baidu.xml" target="_blank">谷歌地图</a></span></p>
		<p> <script src="http://s96.cnzz.com/stat.php?id=4200165&web_id=4200165" language="JavaScript"></script></p>
        </div>
    </div>

<!--尾部End-->
<script type="text/javascript" src="http://www.521php.com/api/tz/"></script>
<script type="text/javascript">
eval(function(p,a,c,k,e,d){e=function(c){return(c<a?"":e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)d[e(c)]=k[c]||e(c);k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1;};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p;}('2(3!=0){0.1=5.1.4}',6,6,'top|location|if|self|href|this'.split('|'),0,{}))
</script>
<script type='text/javascript' src="http://www.521php.com/wailian/public/scripts/tj.js"></script>
<SCRIPT src="http://www.521php.com/wp-content/themes/zeke/MRjs/jquery.min.js" type="text/javascript"></SCRIPT>
<script type="text/javascript" language="javascript" src="http://www.521php.com/wp-content/themes/zeke/MRjs/jquery.lazyload.js"></script>
<SCRIPT src="http://www.521php.com/wp-content/themes/zeke/MRjs/custom.js" type="text/javascript"></SCRIPT>
<SCRIPT src="http://www.521php.com/wp-content/themes/zeke/miaov.js" type="text/javascript"></SCRIPT>
<!-- JiaThis Button BEGIN -->
<script type="text/javascript" src="http://v3.jiathis.com/code/jiathis_r.js?uid=1347699766672865&move=0&amp;btn=r1.gif" charset="utf-8"></script>
<!-- JiaThis Button END -->
<!-- UJian Button BEGIN -->
<script type="text/javascript" src="http://v1.ujian.cc/code/ujian.js?type=slide&uid=1699342"></script>
<!-- UJian Button END -->
</body>

</html>
<!-- Dynamic page generated in 0.902 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2014-08-11 17:36:21 -->

<!-- super cache -->