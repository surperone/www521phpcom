<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>我爱你PHP张存超技术博客</title>
	<atom:link href="http://www.521php.com/feed/" rel="self" type="application/rss+xml" />
	<link>http://www.521php.com</link>
	<description>php个人博客,php技术博客,php博客</description>
	<lastBuildDate>Sat, 19 Jul 2014 10:08:44 +0000</lastBuildDate>
	<language>en</language>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>http://wordpress.org/?v=3.3.2</generator>
		<item>
		<title>4年了，给您汇报一下</title>
		<link>http://www.521php.com/archives/1756/</link>
		<comments>http://www.521php.com/archives/1756/#comments</comments>
		<pubDate>Sat, 19 Jul 2014 10:08:44 +0000</pubDate>
		<dc:creator>地狱中仰望天堂</dc:creator>
				<category><![CDATA[总结]]></category>
		<category><![CDATA[随笔]]></category>
		<category><![CDATA[个人博客]]></category>
		<category><![CDATA[日志]]></category>

		<guid isPermaLink="false">http://www.521php.com/?p=1756</guid>
		<description><![CDATA[今天天气挺热，在公司加班，偷一下懒，给您汇报一下这一年来发生的事情和我目前的状况。我觉得我们一家人可能真的算是典型的中国老实人了，应该说是实在的都有点傻。不过，我喜欢。 去年12月份，我从上家公司离职了，因为我感觉2年了，接下来的第几年应该是我人生当中最重要的一段时间了，因为这个时候工作经验已经不是对于我的限制，我有了一定的能力可以取好好的选择去做一件事情。当时也是因为机缘巧合，疯狂了一把，尝试了一下自己组织做一点事情，虽然最后没有什么结果，但是当时的一段时间给我的帮助是显而易见的，至少之后我面试了几家公司都是通过的，我是最后自己决定来这家公司的，当时我们几家面试过程的录音我还保留着呢。最终我是决定，自己还是应该加深一下技术，因为将来的社会，对于我们这样的屌丝来说，技术可能是基础了。一年走来，愈发的感觉做成一件事情是那么那么的难，即使你是多么的善意，即使你做好了所有的细节，但是成功还是一个偶然事件。这么一想感觉生活真的好累，其实是每个人都很累。每天上下班看着忙忙碌碌的人们，摆摊的、送货的、甚至是收垃圾的，感觉整个社会进入了一个特别痛苦的阶段。人与人的差距可能从没有像今天这样如此的巨大。就好像我和您，思想的差异，见识的差距，接触事物的差异一样。有的时候，我就会想象，如果您有可能来北京看我，面对这样的城市、交通、信息会是怎样的迷茫。现在的社会发展的速度已经超出所有以往的历史和经验。这种学习的紧迫感和压力也让我很沉重。 以前老是觉得自己很牛，至少从智力上来说，但是其实牛的人简直是一抓一大把，以前觉得为什么比我差的人的收获比我多，就让我很难受，但是现在我觉得就让自己能力变现的能力来说就比别人差。现在的我，心态的确是变了很多，现在看到别人，尤其是同学有了收获，是真心觉得高兴，可能有的人会不信，但是我还真是这么想的。反倒是如果朋友混的不好，或者不争气，真的是让我很生气。因为我也同样的在意这些人的眼光和看法。我从心里觉得，对于不了解我的人，或者不是做同样事情的人，他们对于我的看法我是一点不在乎的，他们觉得我好，我表示感谢，觉得我很差劲，我也觉得没任何关系。人如果能活的这样淡然一些，或者说叫从容一些，也是一种幸福。 对于家人来说，我其实有很大的亏欠，无论是爸爸、奶奶还是姐姐，我其实都还没有提供到他们所期望的那些回馈。一年回家两次，对于他们来说的确也很痛苦。对于萍萍，萍萍虽然人不聪明，但是却绝对是个好媳妇，自己省吃俭用，从来不会要这要那，虽然我们也并不那么的穷，但是其实我无论是忙于工作也好，自己懒也好，对她是有很多亏欠的。她其他的同学也好，朋友也好，对男朋友都是有各种要求的，我不知道是不是自己太会忽悠，我这个人其实最怕的就是承诺了，因为未来那么大的不确定性，自己及时是再如何的努力，有可能最终也还是实现不了，所以我真的不会轻易许诺的。但萍萍还那么的相信我，可能最大的原因是我现在已经胖的别人都看不上了，也不知道为啥，我现在是对别的女人都不带看的，一点也不在乎别的女人的眼光。但我的确是觉得人家真的很不容易。我希望自己将来有机会能好好回报家人。 今天给爸爸打电话了，现在一打电话家里就是催我订婚，但是我真的觉得现在啥也没有，真的是没有办法订婚。希望您理解，我的确很理解家里的想法，但是，社会的现状以及我们的现状他们并不了解，这一点可能很难让步，昨天和姐姐打电话，说爸爸还老是大牌，今天我打电话和他说了，让他别打那么厉害了，而且他不怎么能喝酒，还老是喝多。我也就只能这样说了，但是就像我订婚的事情一样，我也真的是干涉不了，我希望的是其他没所谓，关键是照顾好身体就可以，爸爸也年过半百了，到这样的时候，能对外吹吹牛，夸夸孩子，玩一玩就足够了；听说奶奶信基督教了，这也是她的自由，我们应该尊重；姐姐家的孩子，小子涵今年也要上学了。总的来说其实家里都挺好的。 明年就是我的本命年了，时间过的可真快啊，同学都在晒孩子照片了，也难怪家里催。这半年来的确是挺累的，但是也的确是学了很多东西，我对自己的未来还是有信心的。 4年了，真快啊，妈，我有的时候是真的好想你啊。]]></description>
		<wfw:commentRss>http://www.521php.com/archives/1756/feed/</wfw:commentRss>
		<slash:comments>8</slash:comments>
		</item>
		<item>
		<title>php脚本实现redis数据库指定库号迁移</title>
		<link>http://www.521php.com/archives/1752/</link>
		<comments>http://www.521php.com/archives/1752/#comments</comments>
		<pubDate>Fri, 18 Jul 2014 03:35:29 +0000</pubDate>
		<dc:creator>地狱中仰望天堂</dc:creator>
				<category><![CDATA[博采众长]]></category>
		<category><![CDATA[总结]]></category>
		<category><![CDATA[我爱PHP]]></category>
		<category><![CDATA[redis]]></category>
		<category><![CDATA[数据处理]]></category>

		<guid isPermaLink="false">http://www.521php.com/?p=1752</guid>
		<description><![CDATA[redis普通的数据库迁移，只能整个redis save，或者利用主从，当然也可以安装一个redis-dump，不过比较麻烦，这里提供一种php的脚本，实现指定库号的迁移，其实也就是遍历根据存储类型，读出来，插入新库；效果是这样： [crayon-53e8e57a1d0b9/] 上代码： [crayon-53e8e57a1d869/] &#160;]]></description>
		<wfw:commentRss>http://www.521php.com/archives/1752/feed/</wfw:commentRss>
		<slash:comments>3</slash:comments>
		</item>
		<item>
		<title>php批量去除指定目录的bom头</title>
		<link>http://www.521php.com/archives/1746/</link>
		<comments>http://www.521php.com/archives/1746/#comments</comments>
		<pubDate>Sat, 07 Jun 2014 09:11:14 +0000</pubDate>
		<dc:creator>地狱中仰望天堂</dc:creator>
				<category><![CDATA[博采众长]]></category>
		<category><![CDATA[小功能]]></category>
		<category><![CDATA[我爱PHP]]></category>
		<category><![CDATA[php]]></category>
		<category><![CDATA[字符]]></category>
		<category><![CDATA[总结]]></category>

		<guid isPermaLink="false">http://www.521php.com/?p=1746</guid>
		<description><![CDATA[php批量去除指定目录的bom头，创建文件的时候，一定注意，utf-8等格式都是区分bom的，单个文件可以另存，批量的话可以用下面的脚本。 [crayon-53e8e57a41a94/] &#160;]]></description>
		<wfw:commentRss>http://www.521php.com/archives/1746/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>一键式虚拟主机搭建shell脚本</title>
		<link>http://www.521php.com/archives/1739/</link>
		<comments>http://www.521php.com/archives/1739/#comments</comments>
		<pubDate>Tue, 27 May 2014 12:22:13 +0000</pubDate>
		<dc:creator>地狱中仰望天堂</dc:creator>
				<category><![CDATA[Linux]]></category>
		<category><![CDATA[小功能]]></category>
		<category><![CDATA[我爱PHP]]></category>
		<category><![CDATA[推荐文章]]></category>
		<category><![CDATA[mysql]]></category>
		<category><![CDATA[nginx]]></category>
		<category><![CDATA[shell]]></category>

		<guid isPermaLink="false">http://www.521php.com/?p=1739</guid>
		<description><![CDATA[今天下午写了一个简单的一键式自动虚拟主机搭建shell脚本，脚本实现自动配置nginx虚拟主机，自动创建ftp账户，自动创建数据库，用户，并自动实现mysql自动定时备份，日志切割，程序备份。 这里因为其他原因，就将备份机制去掉了，代码如下。 首先需要一个基础的nginx虚拟主机配置文件，一般情况下，我们配置虚拟主机都是建一个vhost目录，这里我在/etc/nginx下面建了一个default.conf文件 [crayon-53e8e57a457ed/] 注意里面一些关键路径，我用特殊字符组合来表示，这样方便我们添加虚拟注意的时候进行匹配替换 host.sh脚本如下 [crayon-53e8e57a45877/] 看一下运行效果，sh host.sh [crayon-53e8e57a4592c/] 系统会逐个询问输入参数，并且参数是先统一填完，然后程序进行执行，避免中间不小心输入错误无法修改，然后如果无需创建数据库，那么database参数不输入即可。 感兴趣的可以看一下。 &#160;]]></description>
		<wfw:commentRss>http://www.521php.com/archives/1739/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>shell脚本做nginx日志分析工具</title>
		<link>http://www.521php.com/archives/1735/</link>
		<comments>http://www.521php.com/archives/1735/#comments</comments>
		<pubDate>Tue, 27 May 2014 02:15:48 +0000</pubDate>
		<dc:creator>地狱中仰望天堂</dc:creator>
				<category><![CDATA[Linux]]></category>
		<category><![CDATA[总结]]></category>
		<category><![CDATA[我爱PHP]]></category>
		<category><![CDATA[推荐文章]]></category>
		<category><![CDATA[nginx]]></category>
		<category><![CDATA[shell]]></category>

		<guid isPermaLink="false">http://www.521php.com/?p=1735</guid>
		<description><![CDATA[以前使用虚拟主机的时候，查看网站运行日志，就发现了很多异常的恶意的访问。当时因为自己并没有系统权限没办法对这些行为进行屏蔽。现在有了自己的云主机，前端时间查看日志，又发现了很多恶意访问。正好可以通过最近对shell的学习，来做一个简单的日志分析工具，来屏蔽一些这样的操作。 首先，所谓的分析工具，肯定是建立在人为的分析的基础上的。我们来看一点我的域名运行日志： [crayon-53e8e57a4beaf/] 很明显可以看到有ip在恶意暴力破解我的登录信息，还有一个ip在尝试下载我的网站程序。这样的ip我们对比正常的访问日志会发现，他没有头信息，即你浏览器等等的信息，而且一般访问都是get或者post访问，而这里有head访问。所以我们可以将这样的ip加入防火墙或者nginx的ip黑名单，当然还可以有其他规则，比较访问的频次，404出现的频次，当然有的访问你会发现他访问你的首页，却没有加载你的js，css等，当然这里也有缓存的影响，但是即使缓存也会发送304的确认信息。当然还有很多其他的恶意访问行为。 然后，针对这些规则，我们来写处理逻辑和操作即可，写这个之前，我们先做一个nginx的ip黑名单。我这里没有再使用linux的防火墙，因为防火墙操作不太方便，频繁重启有一定的影响，而nginx的黑名单，是可以平滑重启的，而且是让指定ip显示403错误，但是可以访问的，这样就给人家一个改过自新的机会啊是吧，如果人家访问正常了，就可以将此ip移除黑名单。 配置nginx ip黑名单： 在你的nginx.conf配置文件中，包含一个blocksip.conf; blocksip.conf 存放黑名单ip； 这样写 [crayon-53e8e57a4bf38/] 然后我们写个shell脚本，自动添加、移除ip，并平滑重启nginx，并发送邮件通知 editblocksip.sh [crayon-53e8e57a4bfad/] 使用比较简单 [crayon-53e8e57a4c019/] 最后，我们只需要写个脚本，来分析nginx日志文件，有符合条件的记录，来触发这个shell脚本添加ip黑名单即可 思路是这样的，首先记录日志最大行号，然后每次执行分析脚本，从指定行号读取剩下所有记录（tail -n +5 file），并再次记录最大行号（wc）,然后使用awk，逐行分析记录，并切割字符进行匹配判断，符合条件的，提取ip，加入ip黑名单； 这个分析脚本，可以用crontab 或者 做成守护进程来跑。根据自己网站的运行情况，定义执行频次，几秒，几分钟等等。 这样就实现了一个简单的日志分析工具！]]></description>
		<wfw:commentRss>http://www.521php.com/archives/1735/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>初识node,CentOS搭建NodeJS环境，使用nginx反向代理</title>
		<link>http://www.521php.com/archives/1732/</link>
		<comments>http://www.521php.com/archives/1732/#comments</comments>
		<pubDate>Thu, 22 May 2014 03:07:29 +0000</pubDate>
		<dc:creator>地狱中仰望天堂</dc:creator>
				<category><![CDATA[Linux]]></category>
		<category><![CDATA[总结]]></category>
		<category><![CDATA[js]]></category>
		<category><![CDATA[node]]></category>

		<guid isPermaLink="false">http://www.521php.com/?p=1732</guid>
		<description><![CDATA[事件驱动，承受高并发……这些耀眼的光环，使开发者不能不去学习NodeJS。今天简单搞了一下 1. 下载node [crayon-53e8e57a5204e/] 2. 解压 [crayon-53e8e57a5274e/] &#160; [crayon-53e8e57a52d72/] 3. 查看配置是否完整 [crayon-53e8e57a534bd/] 如果显示如下，则证明环境充分，缺少的就进行安装 [crayon-53e8e57a53559/] 4. 安装 [crayon-53e8e57a535da/] 时间可能较长，耐心等待。。。 5. 检查是否安装成功，输入 [crayon-53e8e57a53834/] 显示版本号，恭喜你，安装成功！ 6. 编写测试页 [crayon-53e8e57a541ad/] 7. 运行 [crayon-53e8e57a545d5/] 这样浏览器直接访问机器的8181端口即可 或者使用nginx反向代理域名访问 [crayon-53e8e57a5477e/] 此代码加入nginx的配置中，重启nginx 修改hosts，配置域名指向， 浏览器访问即可]]></description>
		<wfw:commentRss>http://www.521php.com/archives/1732/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>转-技术人员如何参与产品设计讨论：激活那一潭死水</title>
		<link>http://www.521php.com/archives/1728/</link>
		<comments>http://www.521php.com/archives/1728/#comments</comments>
		<pubDate>Sat, 10 May 2014 03:37:51 +0000</pubDate>
		<dc:creator>地狱中仰望天堂</dc:creator>
				<category><![CDATA[总结]]></category>
		<category><![CDATA[推荐文章]]></category>
		<category><![CDATA[杂谈]]></category>
		<category><![CDATA[转载]]></category>

		<guid isPermaLink="false">http://www.521php.com/?p=1728</guid>
		<description><![CDATA[转发一篇自己感觉真的比较好的文章大家看一下： 很多时候，程序员与产品经理在一个项目上的感观是完全不同的，就如两个盲人摸象，一个希望摸出牛来，一个希望摸出面包来，显然二者都是不够理性的。 所以在项目管理中，我们要引入迭代和增量。迭代让软件不断完善某个特性，增量支持逐步交付所有特性。二者结合起来使用，可以不断修整逼近真实需求，提早暴露及规避风险。项目交流中，往往遇到的问题有以下三个误区。 误区一：技术人员不断推翻产品经理的需求 在一些传统企业中，技术人员往往是权威，而产品经理往往是新聘或提拔的高管，无论是产品经理还是技术骨干，都受其职业规划和眼光的影响，并不能对整个公司或整个项目进行高瞻远瞩的规划，而企业的决策者们游离于技术骨干与产品经理之间，往往造成整个项目的需求和目标崩溃。 这种现象最后往往表现为：产品通过实施已经做好了，最后在技术人员那变成了“服务器不支持部署”，最终不了了之；或表现为：产品经理好不容易做好了一个需求，且能够实施，会上宣讲完后，技术骨干说“销售部早就试过这种技术，现在的客户端也不支持，培训销售人员使用软件至少要三个月”，使整个需求崩塌。 误区二：技术人员过度或过高解读产品经理的需求 过高解读需求事实上也是对需求的漠视。 我们经常遇到的现象是：当项目周期到了，审视整个项目进度却没有达到一半，开会讨论时收集的意见是“产品经理不是说UI界面很重要吗？我们已经设计了8套界面，至于软件核心我们还没有开工”、“这套产品我们规划了手机、PC和平板三个介质，所以我们分别在三个平台上进行了测试，软件代码还没有开始”。 误区三：技术人员对需求无动于衷 技术人员对需求无动于衷的现象往往表现为：你让我做移动项目吗？但我的PC客户端还在开发呢？你要的写代码，可我们还在做上个项目的培训呢。 对于上述三种误区，需求与开发的不对称，关键在于责任、目标与绩效。我们很容易理解，如果一个新项目突然给一个守旧的团队来实施，而且告知如果实施不达成就会受到惩罚，又或者告知如果实施成功将不再采用旧的标准来维系软件，可想而知整个项目组成员的抵触心理是何等强大。 要解决交流误差，并营造出快乐的沟通氛围、实施出优秀的作品，也并非没有解决之道。我多年从事Web开发和团队管理，在此分享四点经验。 经验一：专职做专事——不要对技术人员有复合事务要求或过高奢求 人们往往容易犯的错误是对别人有过高的需求。我们当然希望保洁员阿姨都能写出优秀的代码，上得了厅堂、下得了厨房，但这种求大求全的现象，往往最后什么也做不成。 所以在管理团队过程中，告诉团队：你不需要有过多的实施，你只需要专心做一件事，而且下班后就开开心心回家，第二天一早会有递增需求清单等你实施，绝不会让一个程序员去做“需求收集”，也不会让一个美工去“顺便写下CSS”这样的需求。 看起来这种思路很保守，但事实是有效和安全的。不可能要求所有成员都是复合型人才，员工什么都能做还打工干嘛，早就自己去当老板了。 经验二：不管结果如何，你先给我做出来，责任我来承担 项目经理或产品经理对于责任的担当是第一位的，作为经理要灌输给团队的理念是：你只要按我的需求做好事情，所有责任我会来担当。唯有如此，才能建立起一个敢进敢退的团队，而不应简单地将责任推诿给成员。 承担责任的前提并不仅仅是勇气或魄力，更需要智慧。往往经理能看到的层面，不是其他成员能看到的。可以设想当年iPhone研发时，分别在屏幕、传感、移动互联网等技术上投入，而原本从事PC开发的麦金塔团队成员并不能理解，但事后这些技术都很好地整合到了产品上。 在我们的项目管理中也同样需要“暗箱推进、事后串联”的能力。比如前瞻性地安排成员在UI、硬件、软件、需求等多方面并行开发，而事后可以良好地将这些技术“干货”整合起来，即使团队成员有离散，也不会影响整个项目。 经验三：同衣同袍、上下齐心 有什么比平等更重要呢？和团队成员一起上班、下班、一起吃快餐、一起找解决方案，远比一纸公文或是高高在上更有效。不要奢望通过远程电话会议、QQ、邮件能解决一切交流问题，面对面的交流，永远是最重要的传感渠道。 经验四：可以不说话，但有工具可以让你参与 有人说：需求有差异、实施有软肋，那就开会解决呗。“程序猿”们往往是口头表达的弱者，或是漠视口头交流（事实上他们不是没能力交流，而且往往在会上一言不发、会后牢骚万千，并在社交网络上活跃异常），原因很简单“写代码都已经很累了，为什么还要交流这么多”、“我又不是经理，为什么要参与交流”、“我只赚代码编程的钱，又没有人付我参与交流的报酬”。 针对这样的现象，经理应该允许并给予充分的尊重，我们要做的是：允许哑巴成员，但我会有其他的工具让你参与。包括线上调查、月报周报、团队拓展、日志记录、报表收集，甚至是生日Party等场合，在与员工同衣同袍的基础上，充分地让员工得到交流，从而解决交流的鸿沟。]]></description>
		<wfw:commentRss>http://www.521php.com/archives/1728/feed/</wfw:commentRss>
		<slash:comments>6</slash:comments>
		</item>
		<item>
		<title>linux系统下安装redis</title>
		<link>http://www.521php.com/archives/1724/</link>
		<comments>http://www.521php.com/archives/1724/#comments</comments>
		<pubDate>Fri, 09 May 2014 08:50:45 +0000</pubDate>
		<dc:creator>地狱中仰望天堂</dc:creator>
				<category><![CDATA[Linux]]></category>
		<category><![CDATA[总结]]></category>
		<category><![CDATA[redis]]></category>
		<category><![CDATA[数据处理]]></category>

		<guid isPermaLink="false">http://www.521php.com/?p=1724</guid>
		<description><![CDATA[下载最新版本的 redis-2.6.14.tar.gz 1:下载地址：https://code.google.com/p/redis/downloads/list linux系统环境是：centos6.4 2、解压文件 tar -zxvf  redis-2.6.14.tar.gz /解压路径 3、进入目录 cd /usr/local/redis/redis-2.6.14 4、编译 make 5、安装 make install 6、设置配置文件路径 mkdir -p /etc/redis cp redis.conf /etc/redis 7、修改配置文件 vim /etc/redis/redis.conf 仅修改： daemonize yes 8、启动 /usr/local/bin/redis-server /etc/redis/redis.conf 9、查看启动 ps -ef &#124; grep redis 10、使用客户端 redis-cli &#62;set &#8230;]]></description>
		<wfw:commentRss>http://www.521php.com/archives/1724/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>MySql避免全表扫描</title>
		<link>http://www.521php.com/archives/1722/</link>
		<comments>http://www.521php.com/archives/1722/#comments</comments>
		<pubDate>Fri, 09 May 2014 03:32:31 +0000</pubDate>
		<dc:creator>地狱中仰望天堂</dc:creator>
				<category><![CDATA[总结]]></category>
		<category><![CDATA[我爱PHP]]></category>
		<category><![CDATA[推荐文章]]></category>
		<category><![CDATA[mysql]]></category>
		<category><![CDATA[php]]></category>
		<category><![CDATA[优化]]></category>
		<category><![CDATA[数据处理]]></category>

		<guid isPermaLink="false">http://www.521php.com/?p=1722</guid>
		<description><![CDATA[对查询进行优化，应尽量避免全表扫描，首先应考虑在where 及order by 涉及的列上建立索引: .尝试下面的技巧以避免优化器错选了表扫描： · 使用ANALYZE TABLE tbl_name为扫描的表更新关键字分布。 · 对扫描的表使用FORCE INDEX告知MySQL，相对于使用给定的索引表扫描将非常耗时。 SELECT * FROM t1, t2 FORCE INDEX (index_for_column) WHERE t1.col_name=t2.col_name； 用&#8211;max-seeks-for-key=1000选项启动mysqld或使用SET max_seeks_for_key=1000告知优化器假设关键字扫描不会超过1,000次关键字搜索。 1. 应尽量避免在where 子句中对字段进行null 值判断，否则将导致引擎放弃使用索引而进行全表扫描， 如： select id from t where num is null NULL对于大多数数据库都需要特殊处理，MySQL也不例外，它需要更多的代码，更多的检查和特殊的索引逻辑，有些开发人员完全没有意识到，创建表时NULL是默认值，但大多数时候应该使用NOT NULL，或者使用一个特殊的值，如0，-1作为默 认值。 &#8230;]]></description>
		<wfw:commentRss>http://www.521php.com/archives/1722/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>linux下nginx,php运行用户和ftp用户权限分配</title>
		<link>http://www.521php.com/archives/1716/</link>
		<comments>http://www.521php.com/archives/1716/#comments</comments>
		<pubDate>Wed, 07 May 2014 02:50:18 +0000</pubDate>
		<dc:creator>地狱中仰望天堂</dc:creator>
				<category><![CDATA[Linux]]></category>
		<category><![CDATA[总结]]></category>
		<category><![CDATA[我爱PHP]]></category>
		<category><![CDATA[推荐文章]]></category>
		<category><![CDATA[php]]></category>
		<category><![CDATA[文件]]></category>

		<guid isPermaLink="false">http://www.521php.com/?p=1716</guid>
		<description><![CDATA[昨天发生了一个小插曲，误操作将本域名下的文件都设置成了777权限，想改回去，又全部设置成了644，发现出问题了。今天就总结一下昨天晚上熬夜查资料的成果吧。 我想要改改目录权限的初衷，是因为我想将这个服务器配置更像虚拟主机一样，因为我的运行环境是nginx+php-fpm，我将他们的运行用户都设置为nginx，组设置为ftp,以我的名字建了ftp账户，用户名为zhangcunchao,所属当然也是ftp，这样php运行的用户和nginx运行用户和ftp账户都属于一个组，那么我们程序中如果有需要程序有写权限的，只需要指定664即可。 linux的用户是可以共用一个uid的，即，我可以让ftp账户的uid和php运行用户一个id，但是这样，相当于将所用虚拟主机目录都设置为777没有太大区别，安全漏洞太大。既然我们需要配置权限最优的话，是有这样几个原则的。 1.php所在目录，php运行用户是需要对目录执行权限的，不然php运行不了； 2.但是一般的php文件不需要有执行和写的权限，因为php程序时被进程读取加载运行的，所以一般644就可以了，当然也包括其他文件 3.不存放php的目录，如果只需要读，就755，如果需要有写，那么可以775，因为ftp和php是一个组 4，所有需要php对文件有写权限的文件，都可以664了。 这里有两个组合命令，非常好用，可以用于项目初始； [crayon-53e8e57a589b6/] 然后我们可以再对需要有写权限的单独开放组的写权限即可 如果一个目录下所有文件都需要有写权限可以这样 [crayon-53e8e57a5919b/] 尽量避免所有文件目录都777，我们要保证方便的同时，尽量保证安全，权限最低原则]]></description>
		<wfw:commentRss>http://www.521php.com/archives/1716/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
	</channel>
</rss>

<!-- Dynamic page generated in 1.885 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2014-08-11 23:47:06 -->
